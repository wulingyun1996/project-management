webpackJsonp([87,736],{1302:function(t,e,a){function i(t){a(1305)}var s=a(34)(a(1303),a(1306),i,null,null);t.exports=s.exports},1303:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String}},data:function(){return{flag:!1}},methods:{show:function(){this.flag=!0},hide:function(){var t=this;setTimeout(function(){t.flag=!1},2e3)}}}},1304:function(t,e,a){e=t.exports=a(696)(!1),e.push([t.i,'.pop{max-width:56%;padding:.266667rem .4rem;letter-spacing:1px;line-height:1.3;text-align:center;color:#fff;background:rgba(0,0,0,.6);position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:300}[data-dpr="1"] .pop{font-size:15px;border-radius:5px;bottom:89px}[data-dpr="2"] .pop{font-size:30px;border-radius:10px;bottom:178px}[data-dpr="3"] .pop{font-size:45px;border-radius:15px;bottom:267px}',""])},1305:function(t,e,a){var i=a(1304);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(697)("0f86f12f",i,!0,{})},1306:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"pop"},[t._v(t._s(t.title))])},staticRenderFns:[]}},1398:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["text"],methods:{footBtnClick:function(){this.$emit("footBtnClick")}}}},1399:function(t,e,a){e=t.exports=a(696)(!1),e.push([t.i,'.foot-btn{position:fixed;bottom:0;left:0;right:0;text-align:center;background:#ff8a00;color:#fff}[data-dpr="1"] .foot-btn{height:44px;line-height:44px;font-size:18px}[data-dpr="2"] .foot-btn{height:88px;line-height:88px;font-size:36px}[data-dpr="3"] .foot-btn{height:132px;line-height:132px;font-size:54px}',""])},1400:function(t,e,a){var i=a(1399);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(697)("e62ed1d2",i,!0,{})},1401:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"foot-btn",on:{click:t.footBtnClick}},[t._v("\n  "+t._s(t.text)+"\n")])},staticRenderFns:[]}},1402:function(t,e,a){function i(t){a(1400)}var s=a(34)(a(1398),a(1401),i,null,null);t.exports=s.exports},1710:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(35),s=a(1402),n=a.n(s),o=a(1302),d=a.n(o),r=a(98),p=a(203);e.default={data:function(){return{inputCard:"",inputSales:"",inputDeposit:"",mess:"",messOne:"",messTwo:"",messThree:"",messObj:{},noHas:!0,timerId:""}},computed:{errShow:function(){return!this.inputCard||!!this.noHas},trueShow:function(){return!this.errShow},errShowTwo:function(){return!this.inputSales||(this.inputDeposit&&Number(this.inputDeposit)>Number(this.inputSales)?(this.messTwo="销售金额需大于定金金额",!0):this.maxLength(this.inputSales)?(this.messTwo="金额不得大于9位数值",!0):!this.isNum(this.inputSales)&&(this.messTwo="请输入大于等于0的数值，最多保留两位小数",!0))},errShowThree:function(){return!this.inputDeposit||(this.maxLength(this.inputDeposit)?(this.messThree="金额不得大于9位数值",!0):!this.isNum(this.inputDeposit)&&(this.messThree="请输入大于等于0的数值，最多保留两位小数",!0))}},created:function(){window.nav_back=this.nav_back,this.nav()},methods:{nav_back:function(){a.i(r.c)()},nav:function(){var t={left:[{title:"back",function:"nav_back()"}]};a.i(r.b)(t)},isTrue:function(){var t=this;this.inputCard?(clearTimeout(this.timerId),this.timerId=setTimeout(function(){var e={active_id:t.$route.params.id,card_number:t.inputCard};a.i(p.a)("tally/hasTicket",e).then(function(e){e.code===p.e&&(t.messOne="该卡号不存在",t.noHas=!0),e.code===p.b&&(t.noHas=!1,t.messObj=e.data)})},500)):this.messOne="请输入卡号"},changeBug:function(){"iOS"===a.i(i.b)()&&document.body.classList.add("full-body")},loseBug:function(){"iOS"===a.i(i.b)()&&document.body.classList.remove("full-body")},showMess:function(t){var e=this;this.mess=t,this.$refs.pop.show(),setTimeout(function(){e.$refs.pop.hide()},200)},isNum:function(t){var e=/^\d{1,9}(?:\.\d{1,2})?$/;return null!==t.match(e)},maxLength:function(t){return!!/^\d{10,}(\.\d+)?$/.test(t)},isCheck:function(){return this.inputCard?this.isNum(this.inputSales)?!!this.isNum(this.inputDeposit)||(this.messThree="请输入大于等于0的数值，最多保留两位小数",!1):(this.messTwo="请输入大于等于0的数值，最多保留两位小数",!1):(this.messOne="请输入卡号",!1)},footBtnClick:function(){var t=this;if(!(this.errShow||this.errShowTwo||this.errShowThree)){if(this.isCheck()){var e={active_id:this.$route.params.id,card_number:this.inputCard,sales_amount:this.inputSales,deposit_amount:this.inputDeposit};a.i(p.a)("tally/addTally",e).then(function(e){e.code===p.b&&(t.showMess("记账成功"),t.$route.meta.hasDone=!0,setTimeout(function(){t.$router.back()},1e3))})}return!1}},justifyBodyHeight:function(){var t=this.$refs.button.$el.clientHeight;document.body.style.height=window.screen.availHeight-t+"px"},restoreBodyHeight:function(){document.body.style.height="100%"}},components:{FootBtn:n.a,Pop:d.a}}},1965:function(t,e,a){var i=a(698);e=t.exports=a(696)(!1),e.push([t.i,".add-manager[data-v-757d7461]{position:fixed;left:0;top:0;bottom:0;right:0;z-index:200;background:#fff}.add-manager .add-box[data-v-757d7461]{padding:.666667rem .826667rem 0}.add-manager .add-box>div[data-v-757d7461]{width:100%;position:relative}.add-manager .add-box>div .err-show[data-v-757d7461]{line-height:.56rem;position:absolute;left:.426667rem;bottom:-.533333rem;color:red;padding-left:.373333rem;background:url("+i(a(839))+') no-repeat 0}[data-dpr="1"] .add-manager .add-box>div .err-show[data-v-757d7461]{font-size:12px;background-size:10px 10px}[data-dpr="2"] .add-manager .add-box>div .err-show[data-v-757d7461]{font-size:24px;background-size:20px 20px}[data-dpr="3"] .add-manager .add-box>div .err-show[data-v-757d7461]{font-size:36px;background-size:30px 30px}.add-manager .add-box>div .mess-show[data-v-757d7461]{padding:.373333rem;position:absolute;width:100%;left:0}[data-dpr="1"] .add-manager .add-box>div .mess-show[data-v-757d7461]{font-size:14px}[data-dpr="2"] .add-manager .add-box>div .mess-show[data-v-757d7461]{font-size:28px}[data-dpr="3"] .add-manager .add-box>div .mess-show[data-v-757d7461]{font-size:42px}.add-manager .add-box>div .mess-show p[data-v-757d7461]{margin-bottom:.08rem}.add-manager .add-box>div .mess-show span[data-v-757d7461]{display:inline-block;width:1.533333rem;white-space:nowrap}.add-manager .add-box .mar-top[data-v-757d7461]{margin:2.4rem 0 .56rem}.add-manager .add-box .add-input[data-v-757d7461]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%}[data-dpr="1"] .add-manager .add-box .add-input[data-v-757d7461]{font-size:15px}[data-dpr="2"] .add-manager .add-box .add-input[data-v-757d7461]{font-size:30px}[data-dpr="3"] .add-manager .add-box .add-input[data-v-757d7461]{font-size:45px}.add-manager .add-box .add-input label[data-v-757d7461]{display:block;-webkit-box-flex:0;-webkit-flex:0 0 auto;flex:0 0 auto}.add-manager .add-box .add-input input[data-v-757d7461]{display:block;-webkit-box-flex:1;-webkit-flex:1;flex:1;border:1px solid #ccc;padding-left:.533333rem;width:0}[data-dpr="1"] .add-manager .add-box .add-input input[data-v-757d7461]{height:44px}[data-dpr="2"] .add-manager .add-box .add-input input[data-v-757d7461]{height:88px}[data-dpr="3"] .add-manager .add-box .add-input input[data-v-757d7461]{height:132px}.add-manager .add-box .add-input div[data-v-757d7461]{padding-left:.293333rem;-webkit-box-flex:0;-webkit-flex:0 0 auto;flex:0 0 auto}.gray[data-v-757d7461]{background:#bcbcbc}.gray.orange[data-v-757d7461]{background:#ff8a00}',""])},2120:function(t,e,a){var i=a(1965);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(697)("3c9aff0c",i,!0,{})},2292:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-manager"},[a("div",{staticClass:"add-box"},[a("div",[a("div",{staticClass:"add-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputCard,expression:"inputCard"}],attrs:{type:"text",placeholder:"请输入卡号",name:"name"},domProps:{value:t.inputCard},on:{keyup:t.isTrue,input:function(e){e.target.composing||(t.inputCard=e.target.value)}}})]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.errShow,expression:"errShow"}],staticClass:"err-show"},[t._v(t._s(t.messOne))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.trueShow,expression:"trueShow"}],staticClass:"mess-show"},[a("p",[a("span",[t._v("姓名：")]),t._v(t._s(t.messObj.name))]),t._v(" "),a("p",[a("span",[t._v("手机号：")]),t._v(t._s(t.messObj.mobile))])])]),t._v(" "),a("div",{staticClass:"mar-top"},[a("div",{staticClass:"add-input"},[a("label",[t._v("销售金额：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputSales,expression:"inputSales"}],attrs:{type:"text",name:"sales"},domProps:{value:t.inputSales},on:{focus:t.justifyBodyHeight,blur:t.restoreBodyHeight,input:function(e){e.target.composing||(t.inputSales=e.target.value)}}}),t._v(" "),a("div",[t._v("元")])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.errShowTwo,expression:"errShowTwo"}],staticClass:"err-show"},[t._v(t._s(t.messTwo))])]),t._v(" "),a("div",[a("div",{staticClass:"add-input"},[a("label",[t._v("定金金额：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputDeposit,expression:"inputDeposit"}],attrs:{type:"text",name:"deposit"},domProps:{value:t.inputDeposit},on:{focus:t.justifyBodyHeight,blur:t.restoreBodyHeight,input:function(e){e.target.composing||(t.inputDeposit=e.target.value)}}}),t._v(" "),a("div",[t._v("元")])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.errShowThree,expression:"errShowThree"}],staticClass:"err-show"},[t._v(t._s(t.messThree))])])]),t._v(" "),a("foot-btn",{ref:"button",staticClass:"gray",class:{orange:t.trueShow&&!t.errShowTwo&&!t.errShowThree},attrs:{text:"提交"},on:{footBtnClick:t.footBtnClick}}),t._v(" "),a("pop",{ref:"pop",attrs:{title:t.mess}})],1)},staticRenderFns:[]}},235:function(t,e,a){function i(t){a(2120)}var s=a(34)(a(1710),a(2292),i,"data-v-757d7461",null);t.exports=s.exports},839:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNC0xN1QxMTo0OTowNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDQtMTdUMTE6NDk6MTMrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDQtMTdUMTE6NDk6MTMrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMDE0ODU2NDFGMjExRTg4NERFQzY3MkVDNkU0RTczIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMDE0ODU3NDFGMjExRTg4NERFQzY3MkVDNkU0RTczIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIwMTQ4NTQ0MUYyMTFFODg0REVDNjcyRUM2RTRFNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIwMTQ4NTU0MUYyMTFFODg0REVDNjcyRUM2RTRFNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4AQ0H1AAABYUlEQVR42qyVz07CQBDGp9TgSe6gxz4Hz4DacsHn0CfAxHDQxL4AFy/+eQVunDx58WAITTThSCimgSayzJBZ3NbdLcRO8uu222++bjubKQgA0FBF2sgDMkaWyBx557mANX9ydWanyAciiLTbFXEcb6Frvkeas3x+BX7DRW6QF8STk85sBoYgzTPnuHLyQBFcI5f5LGc6hYKQOVegrNDXmemiEkUmU18aVpFb+H/ckRcZBshJCYbHSJsMW9ZXHAz2MW1RqSO5RUyo22bleTZt5OBhgc6HtsfO43h7flSr2aQpvXIKJQYZTkr0m5DhW5HKSZJdDV+pKJ2iouzBhewsnzbhot8XyXC4GS26L0HF5S4RmITLMMxsG4tpoHabR6Sn+yirRiN7Xa/rZD32yPQyF7nPP5k28vdotFkdjT/NZn5lIecaG+y52mAtkMbfpWPLQlH1n/gXkDJjnuuYfgFrAQYACA9pirfq8DMAAAAASUVORK5CYII="}});