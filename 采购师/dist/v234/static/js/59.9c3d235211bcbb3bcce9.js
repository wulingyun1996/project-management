webpackJsonp([59],{Dx1t:function(t,i){},"I/NR":function(t,i){},tW3H:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("mvHQ"),a=e.n(s),c=e("Dd8w"),n=e.n(c),o=(Array,Number,{props:{data:{type:Array,default:function(){return[]}},index:{type:Number,default:0}},data:function(){return{currentIndex:this.index,isShowDropDown:!1}},computed:{length:function(){return!!this.data.length},title:function(){return this.data.length?this.data[this.currentIndex].title:""}},methods:{showDropDown:function(){this.isShowDropDown=!this.isShowDropDown},selectCurrentItem:function(t,i){this.currentIndex=t,this.isShowDropDown=!1,this.$emit("change",i)}}}),l={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.length?e("div",{staticClass:"drop-down-container"},[e("div",{staticClass:"drop-down-wrapper",on:{click:t.showDropDown}},[e("div",{staticClass:"drop-down-body"},[t._v("\n      "+t._s(t.title)+"\n    ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDropDown,expression:"isShowDropDown"}],staticClass:"drop-down-list",class:{"select-ipone-x-top":t.$isX,"select-ipone-top":t.isPone},on:{click:function(i){t.isShowDropDown=!t.isShowDropDown}}},[e("div",{staticClass:"seperate"}),t._v(" "),e("div",{staticClass:"select-item"},t._l(t.data,function(i,s){return e("div",{key:s,staticClass:"option",class:{active:t.currentIndex===s},on:{click:function(e){e.stopPropagation(),t.selectCurrentItem(s,i)}}},[e("span",[t._v(t._s(i.title))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex===s,expression:"currentIndex === index"}],staticClass:"icon-choiced"})])}))])]):t._e()},staticRenderFns:[]};var r=e("VU/8")(o,l,!1,function(t){e("Dx1t")},null,null).exports,u=e("NYxO"),d=(n()({},Object(u.d)({setAllianceStatisticsDataList:"SETALLIANCESTATISTICSDATALIST"}),{getSelectStatisticsData:function(){var t=this;this.$http("act/actSelect").then(function(i){i.code===t.$ok&&(i.data.some(function(i,e){if(i.id===t.selectedId)return t.currentIndex=e,!0}),t.selectStatisticsData=i.data)})},getStatisticsData:function(t){var i=this;this.selectedId=t?t.id:this.selectedId;var e={actId:this.selectedId};this.$http("analytics/panel",e).then(function(t){t.code===i.$ok&&(i.handlerStatisticsData(t.data),i.statisticsData=t.data)})},handlerStatisticsData:function(t){var i=JSON.parse(a()(t[0]));t.splice(0,1),t.splice(1,0,i),t.forEach(function(t){switch(t.id){case 1:t.title="浏览量",t.icon="list-one-item",t.show=!0,t.click=!1;break;case 2:t.title="转发量",t.icon="list-one-item",t.show=!0,t.click=!1;break;case 3:t.title="提交资料数",t.icon="list-two-item icon-submit",t.show=!0,t.click=!0;break;case 4:t.title="活动支付数",t.icon="list-two-item icon-pay",t.show=!0,t.click=!0;break;case 5:t.title="线下录入",t.icon="list-two-item icon-input",t.show=!1,t.click=!0;break;case 6:t.title="签到成功",t.icon="list-two-item icon-checked",t.show=!0,t.click=!0;break;case 7:t.title="销售金额",t.icon="list-two-item icon-sale",t.show=!0,t.click=!0;break;case 9:t.title="带单金额",t.icon="list-two-item icon-money",t.show=!1,t.click=!0}})},getStatisticsDataList:function(){var t=this;this.$http("analytics/panelSelect").then(function(i){i.code===t.$ok&&(i.data.some(function(t,i,e){if(5===t.id)return e.splice(i,1),!0}),t.setAllianceStatisticsDataList(i.data))})},viewAllianceStatisticsDetail:function(t){var i=t.id;t.click&&this.$router.push({name:"AllianceStatisticsDetail",query:{id:i,activityId:this.selectedId}})},showSaleGuidePopup:function(t){var i=this;if(t)return this.saleGuidePopup=!1,void(this.saleTimer&&clearTimeout(this.saleTimer));this.saleGuidePopup=!0,this.saleTimer=setTimeout(function(){i.saleGuidePopup=!1,clearTimeout(i.saleTimer)},5e3)},showMoneyGuidePopup:function(t){var i=this;if(t)return this.moneyGuidePopup=!1,void(this.moneyTimer&&clearTimeout(this.moneyTimer));this.moneyGuidePopup=!0,this.moneyTimer=setTimeout(function(){i.moneyGuidePopup=!1,clearTimeout(i.moneyTimer)},5e3)}}),{name:"AllianceActivityStatistics",data:function(){return{selectStatisticsData:[],statisticsData:[],selectedId:this.$route.query.id,saleGuidePopup:!1,saleTimer:null,moneyGuidePopup:!1,moneyTimer:null,currentIndex:0}},created:function(){this.getSelectStatisticsData(),this.getStatisticsData(),this.getStatisticsDataList()},methods:n()({},Object(u.d)({setAllianceStatisticsDataList:"SETALLIANCESTATISTICSDATALIST"}),{getSelectStatisticsData:function(){var t=this;this.$http("act/actSelect").then(function(i){i.code===t.$ok&&(i.data.some(function(i,e){if(i.id===t.selectedId)return t.currentIndex=e,!0}),t.selectStatisticsData=i.data)})},getStatisticsData:function(t){var i=this;this.selectedId=t?t.id:this.selectedId;var e={actId:this.selectedId};this.$http("analytics/panel",e).then(function(t){t.code===i.$ok&&(i.handlerStatisticsData(t.data),i.statisticsData=t.data)})},handlerStatisticsData:function(t){var i=JSON.parse(a()(t[0]));t.splice(0,1),t.splice(1,0,i),t.forEach(function(t){switch(t.id){case 1:t.title="浏览量",t.icon="list-one-item",t.show=!0,t.click=!1;break;case 2:t.title="转发量",t.icon="list-one-item",t.show=!0,t.click=!1;break;case 3:t.title="提交资料数",t.icon="list-two-item icon-submit",t.show=!0,t.click=!0;break;case 4:t.title="活动支付数",t.icon="list-two-item icon-pay",t.show=!0,t.click=!0;break;case 5:t.title="线下录入",t.icon="list-two-item icon-input",t.show=!1,t.click=!0;break;case 6:t.title="签到成功",t.icon="list-two-item icon-checked",t.show=!0,t.click=!0;break;case 7:t.title="销售金额",t.icon="list-two-item icon-sale",t.show=!0,t.click=!0;break;case 9:t.title="带单金额",t.icon="list-two-item icon-money",t.show=!1,t.click=!0}})},getStatisticsDataList:function(){var t=this;this.$http("analytics/panelSelect").then(function(i){i.code===t.$ok&&(i.data.some(function(t,i,e){if(5===t.id)return e.splice(i,1),!0}),t.setAllianceStatisticsDataList(i.data))})},viewAllianceStatisticsDetail:function(t){var i=t.id;t.click&&this.$router.push({name:"AllianceStatisticsDetail",query:{id:i,activityId:this.selectedId}})},showSaleGuidePopup:function(t){var i=this;if(t)return this.saleGuidePopup=!1,void(this.saleTimer&&clearTimeout(this.saleTimer));this.saleGuidePopup=!0,this.saleTimer=setTimeout(function(){i.saleGuidePopup=!1,clearTimeout(i.saleTimer)},5e3)},showMoneyGuidePopup:function(t){var i=this;if(t)return this.moneyGuidePopup=!1,void(this.moneyTimer&&clearTimeout(this.moneyTimer));this.moneyGuidePopup=!0,this.moneyTimer=setTimeout(function(){i.moneyGuidePopup=!1,clearTimeout(i.moneyTimer)},5e3)}}),components:{BaseSelectStatistics:r}}),h={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"alliance-activity-statistics-container"},[e("base-header"),t._v(" "),e("div",{staticClass:"alliance-activity-statistics-wrapper"},[e("div",{staticClass:"statistics-wrapper"},[t.selectStatisticsData.length?e("base-select-statistics",{attrs:{data:t.selectStatisticsData,index:t.currentIndex},on:{change:t.getStatisticsData}}):t._e(),t._v(" "),e("base-scroll",{attrs:{"has-more":!0}},[e("ul",t._l(t.statisticsData,function(i){return i.show?e("li",{key:i.id,staticClass:"item",class:(s={},s[i.icon]=!0,s),on:{click:function(e){t.viewAllianceStatisticsDetail(i)}}},[e("p",[t._v(t._s(i.count))]),t._v(" "),e("h3",[t._v(t._s(i.title))])]):t._e();var s}))])],1)])],1)},staticRenderFns:[]};var p=e("VU/8")(d,h,!1,function(t){e("I/NR")},null,null);i.default=p.exports}});