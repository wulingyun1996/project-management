webpackJsonp([63,378],{"9l/3":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAGOCAYAAAC9s9IzAAAAAXNSR0IArs4c6QAAAF9JREFUSA3tlUEKACAIBLP/P80/lSJ4EfYQdBsPIkoEw4jm7mdF7EwZb0W91dn4S+LV9GoKw+AgFIWh5iPQ9QiGMCwHWokucAM3cGNuAXdZ78UkNjswhOG0ojq48cONC3dedRniOuHHAAAAAElFTkSuQmCC"},KlXu:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Dd8w"),i=a.n(e),o=a("mvHQ"),n=a.n(o),r=a("Xxa5"),c=a.n(r),h=a("exGp"),l=a.n(h),u=a("CpqM"),d=a("bh5B"),v=a("i3Gc"),p=a("8xkJ"),_=a("msXN"),m=a("2sLL"),f=a("/kga"),C=a("63CM"),b=a("fBcm"),g=a("b+jt"),w=a("DHfu"),A=a("NYxO"),S=(_.b,_.c,i()({},Object(A.e)(["showUnreadMessage"]),{isOpenByShare:function(){return!!this.$route.query.shareId},count:function(){return this.$route.query.count}}),C.a,m.a,f.a,b.a,d.a,g.a,v.a,p.a,u.a,{mixins:[_.b,_.c],data:function(){return{id:this.$route.query.id,isNative:this.$route.query.isNative,tabIndex:0,showShopAuth:!1,bannerList:[],burstingLabelNum:1,companyName:"",goodsCnt:0,collectCnt:0,authCnt:0,shopName:"",shopAddress:"",createdTime:"",sellBrand:[],brandList:[],isAuthed:!1,oneDiscount:0,hasNoData:!1,showUnAuth:!0,contactPhone:"",showTopMenuTab:!1,currentItem:-1,shopLogo:"",hasAttachment:!1,showAuthGuide:!1,auditStatus:0,cardName:"",explain:"",cardStatus:"",shopStatus:!1,circleList:[],isBeforeScroll:!0}},created:function(){this.getData(),this.getShopDetail(),this.getAuthInfo(),this.getShowShopAuth()},methods:{beforeScroll:function(){if(this.isBeforeScroll){var t=this.$refs.liWidth[0];t.style.width=t.offsetWidth+1+"px",this.isBeforeScroll=!1}},goDownLoad:function(){this.$router.push("/app")},getData:function(){var t=this;return l()(c.a.mark(function s(){var a,e;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.m_hasMore){s.next=2;break}return s.abrupt("return");case 2:return a=t.isOpenByShare?"adv/goodsListCode":"adv/goodsList",e={pageSize:10,page:++t.m_page,id:t.id},s.next=6,t.$http(a,e).then(function(s){s.code===t.$ok&&(t.hasNoData=0===s.data.total,t.m_dataList=t.m_dataList.concat(s.data.data),t._checkMore(s.data))});case 6:case"end":return s.stop()}},s,t)}))()},getShopDetail:function(){var t=this;return l()(c.a.mark(function s(){var e,i;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.id){s.next=2;break}return s.abrupt("return");case 2:return e=t.isOpenByShare?"adv/shopDetailCode":"adv/shopDetail",i={id:t.id},s.next=6,t.$http(e,i).then(function(s){if(s.code===t.$ok){var e=s.data;t.companyName=e.shop_name,t.goodsCnt=e.goods_cnt,t.collectCnt=e.collect_cnt,t.authCnt=e.auth_cnt,t.shopName=e.shop_name,t.contactPhone=e.service_mobile,t.shopLogo=e.shop_logo_path,t.hasAttachment=e.attachment,t.shopAddress=(e.op_city||"")+(e.op_area||""),t.createdTime=e.created_at.substr(0,10),t.sellBrand=e.brand.map(function(t){return t.brand_name}),3===e.shop_status&&(t.shopStatus=!0),t.brandList=e.brand,!e.card_info||e.card_info&&0===e.card_info.card_status||(t.oneDiscount=e.card_info.one_discount,t.cardName=e.card_info.card_name,t.explain=e.card_info.explain,e.card_info.adv_img_one&&t.bannerList.push({img:e.card_info.adv_img_one}),e.card_info.adv_img_two&&t.bannerList.push({img:e.card_info.adv_img_two}),t.isAuthed?t.bannerList.push({img:a("7O/8"),text:t.oneDiscount}):t.bannerList.push({img:a("7O/8"),text:"**"}))}});case 6:case"end":return s.stop()}},s,t)}))()},getAuthInfo:function(){var t=this;return l()(c.a.mark(function s(){var a,e;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.id){s.next=2;break}return s.abrupt("return");case 2:return a="adv/shopUser",e={id:t.id},s.next=6,t.$http(a,e).then(function(s){s.code===t.$ok&&(t.isAuthed=2===s.data.audit_status,t.showAuthGuide=!t.isAuthed&&1===s.data.card_status,t.auditStatus=s.data.audit_status,t.cardStatus=s.data.card_status)});case 6:case"end":return s.stop()}},s,t)}))()},getShowShopAuth:function(){var t=this;return l()(c.a.mark(function s(){return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.id){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,t.$http("adv/isPopup",{seller_id:t.id}).then(function(s){s.code===t.$ok&&(t.showShopAuth="yes"===s.data)});case 4:case"end":return s.stop()}},s,t)}))()},goAuthen:function(){var t=this;this.isOpenByShare?this.goDownLoad():this.$http("adv/buyerShopAuth",{seller_id:this.id}).then(function(s){s.code===t.$ok&&(t.auditStatus=s.data.audit_status,t.$refs.authen.hide(),t.$t("认证已提交，等待商家审核","middle"))})},goGoodsDetail:function(t){this.isOpenByShare?this.goDownLoad():this.$router.push({name:"GoodsDetail",query:{goodsId:t}})},contact:function(){this.isOpenByShare?this.goDownLoad():Object(w.j)("invokeTel",this.contactPhone)},invokeNativeMethod:function(t){switch(this.currentItem=t,t){case 0:Object(w.j)("nativeGoHomeNormalTab",0);break;case 3:Object(w.j)("invokeTel",this.contactPhone);break;case 4:this.showSharePop();break;case 6:Object(w.j)("invokeTel",this.shopDetail.service_mobile)}this.showTopMenuTab=!1,this.currentItem=-1},share:function(t){var s={};s.type=t,s.url=location.href,s.title=this.shopName,s.discriable="我在建材采购师发现一个不错的店铺，推荐给你，赶快来看看吧！",s.imgurl=this.shopLogo,Object(w.j)("share",n()(s))},shareUrl:function(){var t=location.href;Object(w.j)("copyToClipboard",t)},showSharePop:function(){this.isOpenByShare?this.goDownLoad():this.$refs.share.show()},routerBack:function(){this.isOpenByShare?this.goDownLoad():this.$route.query.goHome?Object(w.u)():this.isNative?Object(w.c)():this.$router.back(-1)},goQuotation:function(){this.isOpenByShare?this.goDownLoad():this.$router.push("/quotation")},receiveManual:function(){this.isOpenByShare?this.goDownLoad():Object(w.k)("nativeLoadPdf",this.hasAttachment,"商家手册")},showAuthDialog:function(){this.isOpenByShare?this.goDownLoad():(this.showShopAuth&&(this.showShopAuth=!1),this.$refs.authen.show())},showTopMenu:function(){this.isOpenByShare?this.goDownLoad():this.$refs.nav.show()},closePopup:function(){this.shopStatus=!1,this.$router.back()},circleDetail:function(){var t=this;if(0!==this.count){this.$refs.circlePopup.show();var s={seller_id:this.$route.query.id};this.$http("union/groupListDetail",s).then(function(s){t.circleList=s.data})}},getClose:function(){this.$refs.circlePopup.hide()}},computed:i()({},Object(A.e)(["showUnreadMessage"]),{isOpenByShare:function(){return!!this.$route.query.shareId},count:function(){return this.$route.query.count}}),directives:{TransferDom:C.a},components:{XButton:m.a,XDialog:f.a,Swiper:b.a,BaseScroll:d.a,SwiperItem:g.a,BasePopupShare:v.a,BasePopupAuthen:p.a,BaseNavList:u.a},watch:{circleList:function(t){var s=this,a=t.length;this.$nextTick(function(){s.$refs.ulWidth.style.width=s.$refs.liWidth[0].offsetWidth*a+"px",s.$refs.scrollWidth.$el.children[0].style.width=s.$refs.liWidth[0].offsetWidth*a+"px"})}}}),k={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"detail",staticClass:"shop-detail iphone-x-container",class:{"is-ipone":t.isPone}},[e("div",{staticClass:"goods-detail-nav iphone-x-nav"},[e("div",{staticClass:"nav-left",on:{click:t.routerBack}},[e("div",{staticClass:"nav-back nav-icon"})]),t._v(" "),e("div",{staticClass:"nav-right"},[e("div",{staticClass:"nav-quotation nav-icon",on:{click:t.goQuotation}}),t._v(" "),e("div",{staticClass:"nav-menu nav-icon",class:{message:t.showUnreadMessage},on:{click:t.showTopMenu}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOpenByShare,expression:"!isOpenByShare"}],staticClass:"nav-menu-wrapper"},[e("base-nav-list",{ref:"nav",attrs:{serviceMobile:t.contactPhone},on:{showShare:t.showSharePop}})],1)]),t._v(" "),e("div",{ref:"banner",staticClass:"banner-box"},[e("div",{staticClass:"cgs-title"},[e("div",{staticClass:"cgs-logo"},[e("img",{attrs:{src:t.shopLogo,alt:""}})]),t._v(" "),e("div",{staticClass:"shop-title"},[e("p",[t._v(t._s(t.companyName))]),t._v(" "),e("div",{staticClass:"shop-label"},[2===t.auditStatus?e("span",{staticClass:"label authed"},[e("i",{staticClass:"label-icon authed-icon"}),t._v("已认证")]):t._e(),t._v(" "),!t.cardStatus||3!==t.auditStatus&&t.auditStatus?t._e():e("span",{staticClass:"label unauthed"},[e("i",{staticClass:"label-icon authed-icon"}),t._v("未认证")]),t._v(" "),1===t.auditStatus?e("span",{staticClass:"label autheding"},[e("i",{staticClass:"label-icon authed-icon"}),t._v("审核中")]):t._e(),t._v(" "),e("span",{staticClass:"label concat-business",on:{click:t.circleDetail}},[t._v("所属商圈："+t._s(t.count))])])])])]),t._v(" "),e("div",{staticClass:"shop-detail-tab",class:{active:1===t.tabIndex}},[e("div",{staticClass:"tab-item",on:{click:function(s){t.tabIndex=0}}},[t._v("全部商品")]),t._v(" "),e("div",{staticClass:"seperate"}),t._v(" "),e("div",{staticClass:"tab-item",on:{click:function(s){t.tabIndex=1}}},[t._v("店铺介绍")])]),t._v(" "),1===t.tabIndex?e("base-scroll",{staticClass:"shop-intro",attrs:{data:t.sellBrand}},[e("div",{staticClass:"shop-overview"},[e("div",{staticClass:"overview-item"},[e("p",[t._v("全部商品")]),t._v(" "),e("p",[t._v(t._s(t.goodsCnt))])]),t._v(" "),e("div",{staticClass:"overview-item"},[e("p",[t._v("采购师认证")]),t._v(" "),e("p",[t._v(t._s(t.authCnt))])])]),t._v(" "),e("div",{staticClass:"shop-brief"},[e("div",{staticClass:"brief-title"},[t._v("店铺简介")]),t._v(" "),e("div",{staticClass:"brief-item"},[e("div",[e("span",{staticClass:"item-left"},[t._v("店铺名称")]),t._v(" "),e("span",{staticClass:"item-right"},[t._v(t._s(t.shopName))])]),t._v(" "),e("div",[e("span",{staticClass:"item-left"},[t._v("服务城市")]),t._v(" "),e("span",{staticClass:"item-right"},[t._v(t._s(t.shopAddress))])]),t._v(" "),e("div",[e("span",{staticClass:"item-left"},[t._v("开店时间")]),t._v(" "),e("span",{staticClass:"item-right"},[t._v(t._s(t.createdTime))])]),t._v(" "),e("div",{staticClass:"sell-brand"},[e("span",{staticClass:"item-left"},[t._v("销售品牌")]),t._v(" "),e("div",{staticClass:"label-con"},t._l(t.sellBrand,function(s,a){return e("span",{key:a,staticClass:"item-label"},[t._v(t._s(s.substr(0,10)))])}))])])]),t._v(" "),0!=t.brandList.length?e("div",{staticClass:"brand-brief"},[e("div",{staticClass:"brief-title"},[t._v("品牌介绍")]),t._v(" "),t._l(t.brandList,function(s,a){return e("div",{key:a},[e("div",{staticClass:"brand-logo"},[e("img",{attrs:{src:s.image_path,alt:""}}),t._v(t._s(s.brand_name)+"\n        ")]),t._v(" "),e("div",{staticClass:"brief-text"},[t._v(t._s(s.introduce))])])}),t._v(" "),t.hasAttachment?e("x-button",{staticClass:"concat-seller click-get-manual",nativeOn:{click:function(s){return t.receiveManual(s)}}},[t._v("点击领取商家手册")]):t._e()],2):t._e()]):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.tabIndex,expression:"tabIndex == 0"}],staticClass:"shop-goods"},[0!==t.bannerList.length?e("div",{staticClass:"shop-banner"},[e("div",{staticClass:"banner-left"},[t._m(0),t._v(" "),e("p",{staticClass:"banner-commission"},[e("i"),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isAuthed,expression:"isAuthed"}]},[t._v("累加独享高佣金"),e("b",[t._v(t._s(t.oneDiscount))]),t._v("%")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isAuthed,expression:"!isAuthed"}]},[t._v("累加独享高佣金"),e("b",[t._v("XX")]),t._v("%")])]),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"banner-right"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isAuthed,expression:"isAuthed"}],staticClass:"authend"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isAuthed,expression:"!isAuthed"}],staticClass:"unauthen",on:{click:t.showAuthDialog}})])]):t._e(),t._v(" "),t.hasNoData?e("div",{staticClass:"no-goods-box"},[t._m(2),t._v(" "),e("p",[t._v("掌柜太忙啦！")]),t._v(" "),e("p",[t._v("还没来得及上架商品，稍后再来吧~")])]):t._e(),t._v(" "),t.hasNoData?t._e():e("base-scroll",{staticClass:"goods-list-box",attrs:{hasMore:t.m_hasMore,scrollPosY:!1,pullup:t.m_pullup,pulldown:!1,hasLoading:t.m_loading,hasRefresh:t.m_refresh,data:t.m_dataList},on:{scrollToEnd:t.getData,pulldown:t.pullDownRefresh}},[e("ul",{staticClass:"list-goods"},t._l(t.m_dataList,function(s,i){return e("li",{key:i,staticClass:"goods-item"},[e("div",{staticClass:"item-good",on:{click:function(a){t.goGoodsDetail(s.id)}}},[e("div",{staticClass:"goods-img"},[e("img",{staticClass:"main-pic",attrs:{src:s.image_path,alt:""}}),t._v(" "),"yes"===s.isHot?e("img",{staticClass:"bursting-label-img",attrs:{src:s.hot_img,alt:""}}):t._e()]),t._v(" "),e("div",{staticClass:"goods-info"},[e("div",{staticClass:"goods-title"},[1===s.is_stock_good?e("span",{staticClass:"main-title-label"},[t._v("现货")]):t._e(),t._v(t._s(s.title||"...")+"\n              ")]),t._v(" "),e("div",{staticClass:"goos-price-box"},[e("div",{staticClass:"goods-price"},[e("span",[t._v("￥")]),t._v(" "),e("span",[t._v(t._s(s.show_price.toString().split(".")[0]))]),t._v(" "),e("span",[t._v("."+t._s(s.show_price.toString().split(".")[1]))])]),t._v(" "),"yes"===s.isSale||t.isOpenByShare?t._e():e("div",{staticClass:"commission"},[e("img",{attrs:{src:a("FzF/"),alt:""}}),t._v(" "),e("b",[t._v(t._s(s.commission_price))])]),t._v(" "),"yes"===s.isSale?e("div",{staticClass:"time-limit"},[t._v("限时抢购")]):t._e()])])])])}))]),t._v(" "),t.showAuthGuide?e("div",{directives:[{name:"show",rawName:"v-show",value:t.showUnAuth,expression:"showUnAuth"}],staticClass:"goods-detail-authen"},[e("div",{staticClass:"authen-nav"},[e("div",{staticClass:"authen-title"},[e("span",{staticClass:"shop-icon"}),t._v(" "),2===t.auditStatus?e("p",{staticClass:"authen-description"},[e("span",[t._v("认证店铺再享")]),t._v(" "),e("span",{staticClass:"authen-commission"},[t._v(t._s(t.oneDiscount)+"%佣金+认证奖励")])]):e("p",{staticClass:"authen-description"},[e("span",[t._v("认证店铺再享")]),t._v(" "),e("span",{staticClass:"authen-commission"},[t._v("**%佣金+认证奖励")])])]),t._v(" "),e("div",{staticClass:"authen-url"},[e("div",{staticClass:"unauthen-icon",on:{click:t.showAuthDialog}},[t._v("去认证")]),t._v(" "),e("div",{staticClass:"unauthen-arrow",on:{click:function(s){t.showUnAuth=!1}}})])])]):t._e()],1),t._v(" "),e("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[e("x-dialog",{staticClass:"shop-auth-dialog",attrs:{"hide-on-blur":""},model:{value:t.showShopAuth,callback:function(s){t.showShopAuth=s},expression:"showShopAuth"}},[e("div",{staticClass:"shop-authen-wrapper"},[e("div",{staticClass:"shop-authen-top"}),t._v(" "),e("h1",[e("i"),t._v(" "),e("span",[t._v("认证店铺权益")]),t._v(" "),e("i")]),t._v(" "),2===t.auditStatus?e("div",{staticClass:"shop-authend"},[e("div",{staticClass:"shop-authen-com"},[e("i"),t._v(" "),e("div",{staticClass:"authen-left"},[e("h2",[t._v("再累加享佣金"+t._s(t.oneDiscount)+"%")]),t._v(" "),e("p",[t._v("可在原返佣基础上，累计"+t._s(t.oneDiscount)+"%返佣")])])]),t._v(" "),e("div",{staticClass:"shop-authen-honey"},[e("i"),t._v(" "),e("div",{staticClass:"authen-left"},[e("h2",[t._v("认证奖励蜂蜜")]),t._v(" "),e("p",[t._v("可享受店铺认证奖励5蜂蜜")])])])]):e("div",{staticClass:"shop-unauthen"},[e("div",{staticClass:"shop-authen-com"},[e("i"),t._v(" "),e("div",{staticClass:"authen-left"},[e("h2",[t._v("再累加享佣金**%")]),t._v(" "),e("p",[t._v("可在原返佣基础上，累计**%返佣")])])]),t._v(" "),e("div",{staticClass:"shop-authen-honey"},[e("i"),t._v(" "),e("div",{staticClass:"authen-left"},[e("h2",[t._v("认证奖励蜂蜜")]),t._v(" "),e("p",[t._v("可享受店铺认证奖励**蜂蜜")])])])]),t._v(" "),e("div",{staticClass:"shop-authen-bottom",on:{click:t.showAuthDialog}})])])],1),t._v(" "),e("base-popup-share",{ref:"share",attrs:{isFlashSale:!0},on:{share:t.share,shareUrl:t.shareUrl}}),t._v(" "),e("base-popup-authen",{ref:"authen",attrs:{authenInfo:t.auditStatus||0,cardName:t.cardName,discount:t.oneDiscount,cardDescription:t.explain},on:{goAuthen:t.goAuthen}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shopStatus,expression:"shopStatus"}],staticClass:"shop-close-wrapper"},[e("div",{staticClass:"shop-close",on:{click:t.closePopup}})]),t._v(" "),e("base-senior-popup",{ref:"circlePopup",staticClass:"circle-popup"},[e("base-scroll",{ref:"scrollWidth",attrs:{direction:"horizontal",hasMore:!0}},[e("ul",{ref:"ulWidth"},t._l(t.circleList,function(s){return e("li",{key:s.id,ref:"liWidth",refInFor:!0},[e("div",{staticClass:"banner-left"},[e("div",{staticClass:"top-img"},[e("img",{attrs:{src:s.avatar,alt:""}})]),t._v(" "),e("div",{staticClass:"center-info"},[t._v(t._s(s.union_name))]),t._v(" "),e("div",{staticClass:"bottom-info"},[e("p",[t._v("圈内商家数："+t._s(s.group_count))]),t._v(" "),e("p",[t._v("所在地："+t._s(s.op_city)+"/"+t._s(s.op_area))])])]),t._v(" "),e("div",{staticClass:"banner-right"},[e("img",{attrs:{src:a("9l/3"),alt:""}})])])}))]),t._v(" "),e("div",{staticClass:"close",on:{click:t.getClose}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",[s("i"),this._v(" "),s("span",[this._v("店铺认证豪礼")]),this._v(" "),s("i")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"banner-honey"},[s("i"),this._v(" "),s("span",[this._v("认证奖励蜂蜜")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"no-goods"},[s("img",{attrs:{src:a("qqzm"),alt:""}})])}]};var x=a("VU/8")(S,k,!1,function(t){a("rKmZ")},null,null);s.default=x.exports},rKmZ:function(t,s){}});