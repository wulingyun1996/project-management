webpackJsonp([45,486],{D82E:function(t,e,s){t.exports=s.p+"static/img/img-no-data.f3133b5.png"},FLx0:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),n=s("Gu7T"),c=s.n(n),o=s("exGp"),l=s.n(o),r=s("Dd8w"),d=s.n(r),m=s("NYxO"),v=(Number,d()({},Object(m.e)(["allianceStatisticsDataList"]),{title:function(){var t=this.selectedId,e="";return this.allianceStatisticsDataList.some(function(s){var a=s.id,i=s.name;if(a===t)return e=i,!0}),e}}),{props:{id:{type:Number,default:3}},data:function(){return{isShowDropDown:!1,selectedId:this.id}},computed:d()({},Object(m.e)(["allianceStatisticsDataList"]),{title:function(){var t=this.selectedId,e="";return this.allianceStatisticsDataList.some(function(s){var a=s.id,i=s.name;if(a===t)return e=i,!0}),e}}),methods:{selectCurrentItem:function(t){var e=this;this.allianceStatisticsDataList.forEach(function(s){s.id===t?(s.choosed=!0,e.selectedId=t):s.choosed=!1}),this.$emit("select",t),this.showDropDown()},showDropDown:function(){this.isShowDropDown=!this.isShowDropDown,this.isShowDropDown&&this.$emit("showDropDown")}}}),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.title?s("div",{staticClass:"header-drop-down-container"},[s("div",{staticClass:"header-drop-down-wrapper"},[s("div",{staticClass:"drop-down-selected select-item active",class:{"no-bottom-border":t.isShowDropDown},on:{click:t.showDropDown}},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShowDropDown,expression:"isShowDropDown"}],staticClass:"drop-down-list",class:{"no-top-border":t.isShowDropDown}},t._l(t.allianceStatisticsDataList,function(e){return s("li",{key:e.id,staticClass:"select-item",class:{active:t.selectedId===e.id},on:{click:function(s){t.selectCurrentItem(e.id)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDropDown,expression:"isShowDropDown"}],staticClass:"header-drop-down-mask",on:{click:t.showDropDown}})]):t._e()},staticRenderFns:[]};var p=s("VU/8")(v,h,!1,function(t){s("Q9op")},null,null).exports,u=s("X2Oc"),w=s("msXN"),_=(w.b,u.l,{name:"AllianceStatisticsDetail",mixins:[w.b],data:function(){return{isShowNoDataPage:!1,selectedId:this.$route.query.id,activityId:this.$route.query.activityId}},created:function(){this.getStatisticsData()},methods:{getStatisticsData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedId,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l()(i.a.mark(function a(){var n,o,l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.selectedId=e,s&&(t.$nextTick(function(){t.$refs.statisticsScroll.scrollTo(0,0,0,0)}),t.initData()),t.m_hasMore){a.next=4;break}return a.abrupt("return");case 4:n="",a.t0=e,a.next=3===a.t0?8:4===a.t0?10:6===a.t0?12:7===a.t0?14:16;break;case 8:return n="getApplications",a.abrupt("break",16);case 10:return n="getPay",a.abrupt("break",16);case 12:return n="getSignIn",a.abrupt("break",16);case 14:return n="getAccount",a.abrupt("break",16);case 16:return o="analytics/"+n,l={actId:t.activityId,page:++t.m_page,pageSize:t.m_pageSize},a.next=20,t.$http(o,l).then(function(e){if(e.code===t.$ok){var s=e.data.data;t.handlerData(s),1===t.m_page?t.m_dataList=s:t.m_dataList=[].concat(c()(t.m_dataList),c()(s)),t.m_refresh=!1,t.checkMore(e.data)}});case 20:case"end":return a.stop()}},a,t)}))()},handlerData:function(t){t.forEach(function(t){var e=t.sellerName,s=(t.seller,t.ticket),a=t.type;t.card=s,t.belong=e||"",t.signType=a?"线下":"线上"})},checkMore:function(t){this.m_loading=!0,this.dataTotalNum=t.count,(!this.m_dataList.length||this.m_page*this.m_pageSize>=this.dataTotalNum)&&(this.m_loading=!1,this.m_hasMore=!1)}},filters:{retainTwoDecimal:u.l},watch:{m_dataList:function(t){t.length?this.isShowNoDataPage=!1:this.isShowNoDataPage=!0}},components:{BaseSelectHeader:p}}),D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alliance-statistics-detail-container"},[a("base-header",{attrs:{"is-show-title":!1}},[a("base-select-header",{attrs:{slot:"center",id:t.selectedId},on:{select:t.getStatisticsData},slot:"center"})],1),t._v(" "),a("div",{staticClass:"alliance-statistics-detail-wrapper"},[a("transition",{attrs:{name:"has-data"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowNoDataPage,expression:"!isShowNoDataPage"}],staticClass:"statistics-wrapper"},[a("base-scroll",{ref:"statisticsScroll",attrs:{data:t.m_dataList,pullup:t.m_pullup,pulldown:t.m_pulldown,hasLoading:t.m_loading,hasMore:t.m_hasMore,hasRefresh:t.m_refresh},on:{scrollToEnd:function(e){t.getStatisticsData(void 0,!1)},pulldown:t.getStatisticsData}},[a("ul",{staticClass:"statistics-detail-list"},t._l(t.m_dataList,function(e,s){return a("li",{key:s,staticClass:"statistics-detail"},[a("ul",{staticClass:"detail-list"},[a("li",{staticClass:"detail-item"},[a("div",{directives:[{name:"show",rawName:"v-show",value:3!==t.selectedId,expression:"selectedId !== 3"}],staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("卡号：")]),t._v(" "),a("p",{staticClass:"item-detail"},[t._v("\n                      "+t._s(e.card)+"\n                    ")])]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("姓名：")]),t._v(" "),a("p",{staticClass:"item-detail"},[t._v("\n                      "+t._s(e.name)+"\n                    ")])]),t._v(" "),a("div",{staticClass:"item"},[a("span",{directives:[{name:"show",rawName:"v-show",value:7===t.selectedId,expression:"selectedId === 7"}],staticClass:"item-name"},[t._v("成交店铺：")]),t._v(" "),a("p",{staticClass:"item-detail"},[t._v("\n                      "+t._s(e.belong)+"\n                    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3===t.selectedId||4===t.selectedId,expression:"selectedId === 3 || selectedId === 4"}],staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("报名时间：")]),t._v(" "),a("p",{staticClass:"item-detail"},[t._v("\n                      "+t._s(e.time)+"\n                    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:6===t.selectedId||7===t.selectedId,expression:"selectedId === 6 || selectedId === 7"}],staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("报名方式：")]),t._v(" "),a("p",{staticClass:"item-detail"},[t._v("\n                      "+t._s(e.signType)+"\n                    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:6===t.selectedId,expression:"selectedId === 6"}],staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("签到时间：")]),t._v(" "),a("p",{staticClass:"item-detail"},[t._v("\n                      "+t._s(e.time)+"\n                    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:7===t.selectedId,expression:"selectedId === 7"}],staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("销售金额：")]),t._v(" "),a("p",{staticClass:"item-detail red"},[t._v("\n                      "+t._s(t._f("retainTwoDecimal")(e.sales))+"\n                    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:7===t.selectedId,expression:"selectedId === 7"}],staticClass:"item"},[a("span",{staticClass:"item-name"},[t._v("定金金额：")]),t._v(" "),a("p",{staticClass:"item-detail red"},[t._v("\n                      "+t._s(t._f("retainTwoDecimal")(e.deposit))+"\n                    ")])])])])])}))])],1)]),t._v(" "),a("transition",{attrs:{name:"no-data"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNoDataPage,expression:"isShowNoDataPage"}],staticClass:"statistics-no-data"},[a("img",{staticClass:"img-no-data",attrs:{src:s("D82E"),alt:""}}),t._v(" "),a("h2",[t._v("您分享的活动各维度统计")]),t._v(" "),a("ul",{staticClass:"explain-list"},[a("li",{staticClass:"explain-item"},[a("i"),t._v(" "),a("p",[t._v("线上线下活动报名数据")])]),t._v(" "),a("li",{staticClass:"explain-item"},[a("i"),t._v(" "),a("p",[t._v("活动现场签到及销售业绩统计")])])])])])],1)],1)},staticRenderFns:[]};var f=s("VU/8")(_,D,!1,function(t){s("pJ02")},null,null);e.default=f.exports},Q9op:function(t,e){},pJ02:function(t,e){}});