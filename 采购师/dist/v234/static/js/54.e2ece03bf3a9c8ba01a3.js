webpackJsonp([54,437],{Na79:function(t,a){},OvrV:function(t,a,s){t.exports=s.p+"static/img/icon-banner.b828e43.png"},th7h:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Xxa5"),i=s.n(e),r=s("Gu7T"),n=s.n(r),o=s("exGp"),c=s.n(o),l=s("DHfu"),_=s("msXN"),u=(_.b,{name:"HotCircle",mixins:[_.b],data:function(){return{noData:!1,specialData:!1,currentTab:0,specialList:[],merchantTab:0,sortShow:!1,bannerShow:!0,sort:1,isIponeX:"",flag:!0}},created:function(){this.getData(),Object(l.j)("setAppBottomTab",1),window.refreshWebView=this.refreshWebView},methods:{toggleTab:function(t){this.currentTab!==t&&(this.currentTab=t,this.initData(),0===t?(this.m_dataList=[],this.sortShow=!1,this.getData()):(this.m_dataList=[],this.sortShow=!1,this.merchantTab=0,this.getCircleMerchantData()))},shopTab:function(t){this.merchantTab!==t&&(this.merchantTab=t,this.initData(),this.$refs.delegateScroll.scrollTo(0,0,0,0),0===t?(this.m_dataList=[],this.sortShow=!1,this.getMerchantData()):1===t?(this.m_dataList=[],this.sortShow=!1,this.getCircleMerchantData()):(this.specialList=[],this.sortShow=!1,this.sort=1,this.getSortTop()))},getData:function(){var t=this;return c()(i.a.mark(function a(){var s,e;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.m_hasMore){a.next=2;break}return a.abrupt("return");case 2:return s="union/groupList",e={page:++t.m_page,pageSize:t.m_pageSize},a.next=6,t.$http(s,e).then(function(a){a.code===t.$ok&&(t.m_dataList=[].concat(n()(t.m_dataList),n()(a.data.data)),t._checkMore(a.data),t.m_refresh=!1)});case 6:case"end":return a.stop()}},a,t)}))()},getMerchantData:function(){var t=this;return c()(i.a.mark(function a(){var s,e;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.m_hasMore){a.next=2;break}return a.abrupt("return");case 2:return s="union/groupSeller",e={page:++t.m_page,page_size:t.m_pageSize,is_group:0,is_sort:0},a.next=6,t.$http(s,e).then(function(a){a.code===t.$ok&&(t.m_dataList=[].concat(n()(t.m_dataList),n()(a.data.data)),t._checkMore(a.data),t.m_refresh=!1)});case 6:case"end":return a.stop()}},a,t)}))()},getCircleMerchantData:function(){var t=this;return c()(i.a.mark(function a(){var s,e;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.m_hasMore){a.next=2;break}return a.abrupt("return");case 2:return s="union/groupSeller",e={page:++t.m_page,page_size:t.m_pageSize,is_group:1,is_sort:0},a.next=6,t.$http(s,e).then(function(a){a.code===t.$ok&&(t.m_dataList=[].concat(n()(t.m_dataList),n()(a.data.data)),t.m_dataList.length||(t.noData=!0),t._checkMore(a.data),t.m_refresh=!1)});case 6:case"end":return a.stop()}},a,t)}))()},getSpecialData:function(){var t=this;return c()(i.a.mark(function a(){var s,e;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.m_hasMore){a.next=2;break}return a.abrupt("return");case 2:return s="union/groupSeller",e={page:++t.m_page,page_size:t.m_pageSize,is_group:0,is_sort:t.sort},a.next=6,t.$http(s,e).then(function(a){a.code===t.$ok&&(t.specialList=[].concat(n()(t.specialList),n()(a.data.data)),t.specialList.length||(t.specialData=!0),t.m_loading=!0,t.dataTotalNum=a.data.total,(!t.specialList.length||t.m_page*t.m_pageSize>=t.dataTotalNum)&&(t.m_loading=!1,t.m_hasMore=!1),t.m_refresh=!1)});case 6:case"end":return a.stop()}},a,t)}))()},getSortBottom:function(){var t=this;return c()(i.a.mark(function a(){var s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.flag){a.next=2;break}return a.abrupt("return");case 2:if(s=t,!t.flag){a.next=12;break}if(2===t.merchantTab){a.next=6;break}return a.abrupt("return");case 6:t.specialList=[],t.initData(),t.sortShow=!0,t.sort=2,t.getSpecialData(),t.flag=!1;case 12:setTimeout(function(){s.flag=!0},1e3);case 13:case"end":return a.stop()}},a,t)}))()},getSortTop:function(){var t=this;return c()(i.a.mark(function a(){var s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.flag){a.next=2;break}return a.abrupt("return");case 2:if(s=t,!t.flag){a.next=12;break}if(2===t.merchantTab){a.next=6;break}return a.abrupt("return");case 6:t.specialList=[],t.sortShow=!1,t.initData(),t.sort=1,t.getSpecialData(),t.flag=!1;case 12:setTimeout(function(){s.flag=!0},1e3);case 13:case"end":return a.stop()}},a,t)}))()},refreshWebView:function(){var t=this;Object(l.w)().then(function(a){t.m_hasMore=!0,t.m_page=0,t.m_dataList=[],t.getData()})},goUnionDetail:function(t){this.$router.push({path:"/circle-detail",query:{id:t}})},goSearch:function(){this.$router.push("/circle-search")},scroll:function(t){t.y>-10?(this.bannerShow=!0,this.isIponeX=""):(this.isIponeX=this.$isX,this.bannerShow=!1)},goCircleDetail:function(t,a){this.$router.push({path:"/circle-shop-detail",query:{id:t,count:a}})},pullDownHotcircle:function(){var t=this;this.statusInit(),this.m_refresh=!0,this.getMerchantData().then(function(){t.m_refresh=!1})},pullDownCircle:function(){var t=this;this.statusInit(),this.m_refresh=!0,this.getCircleMerchantData().then(function(){t.m_refresh=!1})},pullDownSpecial:function(){var t=this;this.specialList.length=0,this.m_page=0,this.m_loading=!1,this.m_hasMore=!0,this.m_refresh=!0,this.getSpecialData().then(function(){t.m_refresh=!1,t.sortShow=!1})}},activated:function(){Object(l.j)("setAppBottomTab",1),window.refreshWebView=this.refreshWebView}}),h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hot-cirle-container"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.bannerShow,expression:"bannerShow"}],staticClass:"cirle-banner"},[e("img",{attrs:{src:s("OvrV"),alt:""}})]),t._v(" "),e("div",{staticClass:"cirle-nav"},[e("div",{staticClass:"cirle-tab",class:{"ipone-x":t.isIponeX,ipone:t.isPone}},[e("div",{staticClass:"left-tab",class:{active:0===t.currentTab},on:{click:function(a){t.toggleTab(0)}}},[e("div",{staticClass:"left-img",class:{leftActive:0===t.currentTab}}),t._v(" "),e("span",{staticClass:"left-info",class:{infoActive:0===t.currentTab}},[t._v("热门商圈")])]),t._v(" "),e("div",{staticClass:"right-tab",class:{active:1===t.currentTab},on:{click:function(a){t.toggleTab(1)}}},[e("div",{staticClass:"content-img",class:{rightActive:1===t.currentTab}}),t._v(" "),e("span",{staticClass:"content-info",class:{infoActive:1===t.currentTab}},[t._v("圈内商家")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"cirle-search",on:{click:t.goSearch}},[e("img",{attrs:{src:s("NwAY"),alt:""}}),t._v(" "),e("span",[t._v("搜索店铺名称")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"merchant-tab"},[e("div",{staticClass:"merchant-left-tab",class:{merchantActive:0===t.merchantTab},on:{click:function(a){t.shopTab(0)}}},[t._v("全部")]),t._v(" "),e("img",{attrs:{src:s("VQrk"),alt:""}}),t._v(" "),e("div",{staticClass:"merchant-center-tab",class:{merchantActive:1===t.merchantTab},on:{click:function(a){t.shopTab(1)}}},[t._v("圈内商家")]),t._v(" "),e("img",{attrs:{src:s("VQrk"),alt:""}}),t._v(" "),e("div",{staticClass:"merchant-right-tab",class:{merchantActive:2===t.merchantTab},on:{click:function(a){t.shopTab(2)}}},[t._v("\n      认证佣金\n      "),e("div",{staticClass:"arrow"},[e("div",{staticClass:"first-arrow",on:{click:t.getSortTop}},[e("div",{staticClass:"arrow-top",class:{upActive:t.sortShow}})]),t._v(" "),e("div",{staticClass:"last-arrow",on:{click:t.getSortBottom}},[e("div",{staticClass:"arrow-bottom",class:{downActive:t.sortShow}})])])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"tab-line"}),t._v(" "),0===t.currentTab?e("div",{staticClass:"hot-cirle"},[e("base-scroll",{attrs:{probeType:3,listenScroll:!0,data:t.m_dataList,pullup:t.m_pullup,pulldown:t.m_pulldown,hasLoading:t.m_loading,hasMore:t.m_hasMore,hasRefresh:t.m_refresh},on:{scroll:t.scroll,scrollToEnd:t.getData}},[e("ul",t._l(t.m_dataList,function(a){return e("li",{key:a.id,on:{click:function(s){t.goUnionDetail(a.id)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:a.head_img,alt:""}})]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"right-top"},[t._v(t._s(a.group_name))]),t._v(" "),e("div",{staticClass:"right-count"},[t._v("圈内商家数: "+t._s(a.shops_count))]),t._v(" "),e("div",{staticClass:"right-brand"},t._l(a.tab.slice(0,2),function(a,s){return e("p",{key:s},[t._v(t._s(a))])}))])])}))])],1):1===t.currentTab?e("div",{staticClass:"hot-merchant"},[0===t.merchantTab?e("div",{staticClass:"all-merchant"},[e("base-scroll",{ref:"delegateScroll",attrs:{probeType:3,listenScroll:!0,data:t.m_dataList,pullup:t.m_pullup,pulldown:t.m_pulldown,hasLoading:t.m_loading,hasMore:t.m_hasMore,hasRefresh:t.m_refresh},on:{scroll:t.scroll,scrollToEnd:t.getCircleMerchantData}},[e("ul",t._l(t.m_dataList,function(a){return e("li",{key:a.id,on:{click:function(s){t.goCircleDetail(a.seller_id,a.groups_count)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:a.shop_logo_path,alt:""}})]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"right-top"},[e("p",[t._v(t._s(a.shop_name))])]),t._v(" "),e("div",{staticClass:"right-content"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0!==a.groups_count,expression:"item.groups_count !== 0"}]},[t._v("所属商圈: "+t._s(a.groups_count))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:0!==a.goods_count,expression:"item.goods_count !== 0"}]},[t._v("商品数: "+t._s(a.goods_count))])]),t._v(" "),1===a.audit_status?e("div",{staticClass:"right-footer"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("m4bM"),alt:""}}),t._v(" "),e("span",[t._v("认证优惠再返佣金"+t._s(a.one_discount)+"%")])]),t._v(" "),e("span",[t._v("审核中")])]):t._e(),t._v(" "),2===a.audit_status?e("div",{staticClass:"right-bottom"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("m4bM"),alt:""}}),t._v(" "),e("span",[t._v("下定可再返佣金"+t._s(a.one_discount)+"%")])]),t._v(" "),e("span",[t._v("已认证")])]):t._e(),t._v(" "),null!==a.one_discount?e("div",{staticClass:"footer"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("C2kq"),alt:""}}),t._v(" "),e("span",[t._v("认证优惠再返 佣金 xx%")])]),t._v(" "),e("div",{staticClass:"right-sgin"},[e("img",{staticClass:"line",attrs:{src:s("VQrk"),alt:""}}),t._v(" "),e("span",[t._v("去认证")]),t._v(" "),e("img",{staticClass:"arrow",attrs:{src:s("o3jd"),alt:""}})])]):t._e()])])}))])],1):1===t.merchantTab?e("div",{staticClass:"circle-merchant"},[e("base-scroll",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],ref:"delegateScroll",attrs:{probeType:3,listenScroll:!0,data:t.m_dataList,pullup:t.m_pullup,pulldown:t.m_pulldown,hasLoading:t.m_loading,hasMore:t.m_hasMore,hasRefresh:t.m_refresh},on:{scroll:t.scroll,scrollToEnd:t.getCircleMerchantData}},[e("ul",t._l(t.m_dataList,function(a){return e("li",{key:a.id,on:{click:function(s){t.goCircleDetail(a.seller_id,a.groups_count)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:a.shop_logo_path,alt:""}})]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"right-top"},[e("p",[t._v(t._s(a.shop_name))])]),t._v(" "),e("div",{staticClass:"right-content"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0!==a.groups_count,expression:"item.groups_count !== 0"}]},[t._v("所属商圈: "+t._s(a.groups_count))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:0!==a.goods_count,expression:"item.goods_count !== 0"}]},[t._v("商品数: "+t._s(a.goods_count))])]),t._v(" "),1===a.audit_status?e("div",{staticClass:"right-footer"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("m4bM"),alt:""}}),t._v(" "),e("span",[t._v("认证优惠再返佣金"+t._s(a.one_discount)+"%")])]),t._v(" "),e("span",[t._v("审核中")])]):t._e(),t._v(" "),2===a.audit_status?e("div",{staticClass:"right-bottom"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("m4bM"),alt:""}}),t._v(" "),e("span",[t._v("下定可再返佣金"+t._s(a.one_discount)+"%")])]),t._v(" "),e("span",[t._v("已认证")])]):t._e(),t._v(" "),null!==a.one_discount?e("div",{staticClass:"footer"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("C2kq"),alt:""}}),t._v(" "),e("span",[t._v("认证优惠再返 佣金 xx%")])]),t._v(" "),e("div",{staticClass:"right-sgin"},[e("img",{staticClass:"line",attrs:{src:s("VQrk"),alt:""}}),t._v(" "),e("span",[t._v("去认证")]),t._v(" "),e("img",{staticClass:"arrow",attrs:{src:s("o3jd"),alt:""}})])]):t._e()])])}))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}],staticClass:"no-data"},[e("img",{attrs:{src:s("RBZN"),alt:""}}),t._v(" "),e("p",[t._v("圈内商家正在努力搭建中")])])],1):2===t.merchantTab?e("div",{staticClass:"attestation"},[e("base-scroll",{directives:[{name:"show",rawName:"v-show",value:!t.specialData,expression:"!specialData"}],ref:"delegateScroll",attrs:{probeType:3,listenScroll:!0,data:t.specialList,pullup:t.m_pullup,pulldown:t.m_pulldown,hasLoading:t.m_loading,hasMore:t.m_hasMore,hasRefresh:t.m_refresh},on:{scroll:t.scroll,scrollToEnd:t.getSpecialData}},[e("ul",t._l(t.specialList,function(a){return e("li",{key:a.id,on:{click:function(s){t.goCircleDetail(a.seller_id,a.groups_count)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:a.shop_logo_path,alt:""}})]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"right-top"},[e("p",[t._v(t._s(a.shop_name))])]),t._v(" "),e("div",{staticClass:"right-content"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0!==a.groups_count,expression:"item.groups_count !== 0"}]},[t._v("所属商圈: "+t._s(a.groups_count))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:0!==a.goods_count,expression:"item.goods_count !== 0"}]},[t._v("商品数: "+t._s(a.goods_count))])]),t._v(" "),1===a.audit_status?e("div",{staticClass:"right-footer"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("m4bM"),alt:""}}),t._v(" "),e("span",[t._v("认证优惠再返佣金"+t._s(a.one_discount)+"%")])]),t._v(" "),e("span",[t._v("审核中")])]):t._e(),t._v(" "),2===a.audit_status?e("div",{staticClass:"right-bottom"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("m4bM"),alt:""}}),t._v(" "),e("span",[t._v("下定可再返佣金"+t._s(a.one_discount)+"%")])]),t._v(" "),e("span",[t._v("已认证")])]):t._e(),t._v(" "),null!==a.one_discount?e("div",{staticClass:"footer"},[e("div",{staticClass:"left-sgin"},[e("img",{attrs:{src:s("C2kq"),alt:""}}),t._v(" "),e("span",[t._v("认证优惠再返 佣金 xx%")])]),t._v(" "),e("div",{staticClass:"right-sgin"},[e("img",{staticClass:"line",attrs:{src:s("VQrk"),alt:""}}),t._v(" "),e("span",[t._v("去认证")]),t._v(" "),e("img",{staticClass:"arrow",attrs:{src:s("o3jd"),alt:""}})])]):t._e()])])}))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.specialData,expression:"specialData"}],staticClass:"no-data"},[e("img",{attrs:{src:s("9Uku"),alt:""}}),t._v(" "),e("p",[t._v("暂时还没有可认证的商家")])])],1):t._e()]):t._e()])},staticRenderFns:[]};var v=s("VU/8")(u,h,!1,function(t){s("Na79")},null,null);a.default=v.exports}});