webpackJsonp([65],{"8SlR":function(t,e){},JiMn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),o=s.n(a),i=s("exGp"),n=s.n(i),r=s("bh5B"),l=s("Bnh8"),c=s("DHfu"),d=s("msXN"),u=(d.b,r.a,l.a,{name:"ShopDetails",mixins:[d.b],data:function(){return{infoImg:"",topImg:"",honeyTitle:"",honeyNumber:"",number:"",isBeforeScroll:!0}},created:function(){this.getHoney(),this.getData()},methods:{getData:function(){var t=this;return n()(o.a.mark(function e(){var s,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="integralGoods/detail",a={id:t.$route.query.goodsId},e.next=4,t.$http(s,a).then(function(e){console.log(e),e.code===t.$ok&&(t.topImg=e.data.image,t.honeyNumber=e.data.integral_sum,t.honeyTitle=e.data.title,t.infoImg=e.data.describe,t._checkMore(e.data))});case 4:case"end":return e.stop()}},e,t)}))()},getHoney:function(){var t=this;this.$http("integral/my").then(function(e){e.code===t.$ok&&(t.number=e.data.credits)})},exchangeShop:function(){this.honeyNumber>this.number?this.$refs.alliancePopup.show():this.$router.push({name:"SelectAddress",query:{goodsId:this.$route.query.goodsId}})},goBack:function(){this.$router.back()},gohide:function(){this.$refs.alliancePopup.hide()},goFirend:function(){Object(c.j)("nativeInviteFriends")},beforeScroll:function(){if(this.isBeforeScroll){var t=this.$refs.img;t.style.height=t.offsetHeight+1+"px",this.isBeforeScroll=!1}}},components:{BaseScroll:r.a,BaseFooter:l.a}}),h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop-detail-container"},[a("base-scroll",{attrs:{hasMore:t.m_hasMore,pullup:t.m_pullup,pulldown:t.m_pulldown,hasLoading:t.m_loading,hasRefresh:t.m_refresh,message:"已经到底了","has-more":!0,beforeScroll:!0,data:t.m_dataList},on:{beforeScroll:t.beforeScroll,scrollToEnd:t.getData,pulldown:t.pullDownRefresh}},[a("div",{staticClass:"nav-back",on:{click:t.goBack}}),t._v(" "),a("div",{ref:"img",staticClass:"shop-detail-top"},[a("img",{attrs:{src:t.topImg,alt:""}})]),t._v(" "),a("div",{staticClass:"shop-detail-info"},[a("div",{staticClass:"honey-images"},[a("img",{attrs:{src:s("sUob"),alt:""}})]),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(t.honeyNumber))]),t._v(" "),a("div",{staticClass:"price"},[t._v("蜂蜜")])]),t._v(" "),a("div",{staticClass:"shop-describe"},[t._v("\n      "+t._s(t.honeyTitle)+"\n    ")]),t._v(" "),a("div",{staticClass:"shop-line"},[a("div",{staticClass:"line"}),t._v(" "),a("p",[t._v("商品详情")])]),t._v(" "),a("div",{staticClass:"shopdetail-img",domProps:{innerHTML:t._s(t.infoImg)}})]),t._v(" "),a("base-footer",{attrs:{text:"马上兑换"},on:{footerSubmit:t.exchangeShop}}),t._v(" "),a("base-senior-popup",{ref:"alliancePopup",staticClass:"alliance-popup",attrs:{height:"auto"}},[a("p",{staticClass:"red"},[t._v("您的蜂蜜数不足")]),t._v(" "),a("p",{staticClass:"two"},[t._v("认证店铺，邀请好友注册认证可")]),t._v(" "),a("p",{staticClass:"tress"},[t._v("赚取蜂蜜哦~")]),t._v(" "),a("div",{staticClass:"fot-button"},[a("div",{staticClass:"left-button",on:{click:t.gohide}},[t._v("知道了")]),t._v(" "),a("div",{staticClass:"right-button",on:{click:t.goFirend}},[t._v("邀请好友赚蜂蜜")])])])],1)},staticRenderFns:[]};var p=s("VU/8")(u,h,!1,function(t){s("8SlR")},null,null);e.default=p.exports}});