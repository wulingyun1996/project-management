webpackJsonp([29,247,249],{"4ZCo":function(t,e,s){"use strict";var n=s("X2Oc"),i=(Number,Number,{props:{min:Number,max:Number,value:{validator:function(t){return"number"==typeof t||"string"==typeof t&&""===t},default:0}},data:function(){return{currentVal:0}},computed:{disabledMin:function(){return void 0!==this.min&&(""===this.currentVal||this.currentVal<=this.min)},disabledMax:function(){return void 0!==this.max&&(""===this.currentVal||this.currentVal>=this.max)}},created:function(){this.currentVal=this.value},methods:{minus:function(){this.currentVal--},add:function(){this.currentVal++},blur:function(){""!==this.currentVal?this.currentVal=Object(n.e)(this.currentVal):this.currentVal=0}},watch:{currentVal:function(t,e){""!==t&&(void 0!==this.min&&this.currentVal<this.min&&(this.currentVal=this.min),this.max&&this.currentVal>this.max&&(this.currentVal=this.max)),this.$emit("input",this.currentVal)}}}),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-number-wrapper"},[s("div",{staticClass:"number-minus",class:{active:!t.disabledMin,fobidden:t.disabledMin},on:{click:t.minus}},[s("span",[t._v("−")])]),t._v(" "),s("div",{staticClass:"number-input"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentVal,expression:"currentVal",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.currentVal},on:{blur:[t.blur,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.currentVal=t._n(e.target.value))}}})]),t._v(" "),s("div",{staticClass:"number-add",class:{active:!t.disabledMax,fobidden:t.disabledMax},on:{click:t.add}},[s("span",[t._v("+")])])])},staticRenderFns:[]};var a=s("VU/8")(i,r,!1,function(t){s("ylCh")},null,null);e.a=a.exports},"78t2":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Xxa5"),i=s.n(n),r=s("exGp"),a=s.n(r),o=s("4ZCo"),u=s("Bnh8"),c=s("DHfu"),d=(o.a,u.a,{data:function(){return{bannerImg:"",title:"",honeyNumber:"",totalNumber:0,number:1,sumNumber:"",addressId:"",userInfo:null,flag:!1}},mounted:function(){window.returnAddress=this.returnAddress,this.flag||this.getUserInfo()},created:function(){this.getUserInfo(),this.getData(),this.getHoney()},computed:{price:function(){return this.number*this.honeyNumber},isColor:function(){return""===this.userInfo||0===this.number||""===this.number?"#ccc":"#ff8a00"},honey:function(){return this.sumNumber-this.price}},methods:{jumpAddress:function(){var t=Object(c.d)();try{if("Android"===t)return void window.android.nativeGoAddress();"iOS"===t&&window.webkit.messageHandlers.nativeGoAddress.postMessage("")}catch(t){}},returnAddress:function(t){if(t)return this.flag=!0,void(this.userInfo="string"==typeof t?JSON.parse(t):t);this.flag=!1},getData:function(){var t=this,e={id:this.$route.query.goodsId};this.$http("integralGoods/detail",e).then(function(e){e.code===t.$ok&&(t.bannerImg=e.data.image,t.title=e.data.title,t.honeyNumber=e.data.integral_sum)})},getHoney:function(){var t=this;this.$http("integral/my").then(function(e){e.code===t.$ok&&(t.sumNumber=e.data.credits)})},exchangeShop:function(){this.userInfo?""!==this.number&&0!==this.number?this.price>this.sumNumber?this.$refs.alliancePopup.show():this.$refs.successPopup.show():this.$t("蜂蜜数量不可为空和为0"):this.$t("请选择收货地址","middle")},gohide:function(){this.$refs.alliancePopup.hide()},hide:function(){this.$refs.successPopup.hide()},confim:function(){var t=this,e={id:this.$route.query.goodsId,addressId:this.userInfo.id,number:this.number};this.$http("integralGoods/addOrder",e).then(function(e){e.code===t.$ok&&t.$router.push({path:"/exchange-success",query:{moobile:e.data.service_mobile,number:t.honey}})})},goFirend:function(){Object(c.j)("nativeInviteFriends")},getUserInfo:function(){var t=this;return a()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http("order/getShippingAddress");case 2:200===(s=e.sent).code?(t.userInfo=s.data,t.addressId=s.data.id):t.$t(s.message,"middle");case 4:case"end":return e.stop()}},e,t)}))()}},components:{BaseInputNumber:o.a,BaseFooter:u.a}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-address-container"},[n("base-header"),t._v(" "),n("div",{staticClass:"info",on:{click:t.jumpAddress}},[t.userInfo?n("div",[n("div",{staticClass:"user-info"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.userInfo.full_name,expression:"userInfo.full_name"}]},[t._v(t._s(t.userInfo.full_name))]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.userInfo.mobile,expression:"userInfo.mobile"}]},[t._v(t._s(t.userInfo.mobile))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.userInfo.provinceChinese&&t.userInfo.cityChinese&&t.userInfo.areaChinese,expression:"userInfo.provinceChinese && userInfo.cityChinese && userInfo.areaChinese"}],staticClass:"address"},[t._v("\n        "+t._s(t.userInfo.provinceChinese)+t._s(t.userInfo.cityChinese)+t._s(t.userInfo.areaChinese)+t._s(t.userInfo.address)+"\n      ")])]):t._e(),t._v(" "),t.userInfo?t._e():n("div",[t._v("\n      请选择收货地址\n    ")]),t._v(" "),n("img",{attrs:{src:s("ncuU"),alt:""}})]),t._v(" "),n("img",{attrs:{src:s("9P2M"),alt:""}}),t._v(" "),n("div",{staticClass:"shop-detail"},[n("div",{staticClass:"shop-detail-info"},[n("div",{staticClass:"detail-info-left"},[n("img",{attrs:{src:t.bannerImg,alt:""}})]),t._v(" "),n("div",{staticClass:"detail-info-right"},[n("p",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"bootom"},[t._m(0),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(t.honeyNumber))]),t._v(" "),n("div",{staticClass:"price"},[t._v("蜂蜜")]),t._v(" "),n("div",{staticClass:"goods-add-item"},[n("base-input-number",{attrs:{min:1},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)])])]),t._v(" "),n("div",{staticClass:"total"},[n("span",[t._v("合计：")]),t._v(" "),n("span",[t._v(t._s(t.price))]),t._v(" "),n("span",[t._v("蜂蜜")])])]),t._v(" "),n("base-footer",{staticClass:"fotterButton",attrs:{background:t.isColor,text:"确认"},on:{footerSubmit:t.exchangeShop}}),t._v(" "),n("base-senior-popup",{ref:"alliancePopup",staticClass:"alliance-popup",attrs:{height:"auto"}},[n("p",{staticClass:"red"},[t._v("您的蜂蜜数不足")]),t._v(" "),n("p",{staticClass:"two"},[t._v("认证店铺，邀请好友注册认证可")]),t._v(" "),n("p",{staticClass:"tress"},[t._v("赚取蜂蜜哦~")]),t._v(" "),n("div",{staticClass:"fot-button"},[n("div",{staticClass:"left-button",on:{click:t.gohide}},[t._v("知道了")]),t._v(" "),n("div",{staticClass:"right-button",on:{click:t.goFirend}},[t._v("邀请好友赚蜂蜜")])])]),t._v(" "),n("base-senior-popup",{ref:"successPopup",staticClass:"alliance-popup",attrs:{height:"auto"}},[n("p",{staticClass:"red"},[t._v("确定使用"+t._s(t.price)+"蜂蜜兑换？")]),t._v(" "),n("div",{staticClass:"fot-button"},[n("div",{staticClass:"left-button",on:{click:t.hide}},[t._v("取消")]),t._v(" "),n("div",{staticClass:"right-button",on:{click:t.confim}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"honey-images"},[e("img",{attrs:{src:s("az1X"),alt:""}})])}]};var f=s("VU/8")(d,l,!1,function(t){s("o2/L")},null,null);e.default=f.exports},"9P2M":function(t,e){t.exports="data:image/png;base64,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"},ncuU:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAASCAYAAABit09LAAAAAXNSR0IArs4c6QAAAS9JREFUKBWFkr9KxEAQh2+XID5LkmewsrITCy0OizT+AzlE4SwOPRDOQjhBsTm0ECy0uUKsrHyHJIVvomji94uurEnUgd2Znfn2N5MlnTRNt/I8n+/8Y9YYk5RleQ+88Bcr8AlwljUFXvwNtmEY7gAfA84URXEHvNwGWyWjKNoHHhIGXLgBXq3Dxk9kWdYHHHGpwK/HcTxx9R+gkqj1GGEMXHLcptu58lVrBc6Y+dRau6kzqmd02VXcUFRSBpDgJsDcs4OGYkV9bmr9ba0gc25AXEqNWfcY56gBfn3MhaSA9DEnVazNmfc8iJVrrc8DdEDxEJV3VkK7aycgH2gDGgH1Cd+AukC3yvtm+M3GJHoAr6wVoKkPuDigOMfhBb8E9OAKda+f4IoHfQZ6rBf98wfpQItrw30jTwAAAABJRU5ErkJggg=="},"o2/L":function(t,e){},ylCh:function(t,e){}});