webpackJsonp([47,363,365],{"78t2":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Xxa5"),a=s.n(n),r=s("exGp"),i=s.n(r),o=s("4ZCo"),u=s("Bnh8"),c=s("DHfu"),d=(o.a,u.a,{data:function(){return{bannerImg:"",title:"",honeyNumber:"",totalNumber:0,number:1,sumNumber:"",addressId:"",userInfo:null,flag:!1}},mounted:function(){window.returnAddress=this.returnAddress,this.flag||this.getUserInfo()},created:function(){this.getUserInfo(),this.getData(),this.getHoney()},computed:{price:function(){return this.number*this.honeyNumber},isColor:function(){return""===this.userInfo||0===this.number||""===this.number?"#ccc":"#ff8a00"},honey:function(){return this.sumNumber-this.price}},methods:{jumpAddress:function(){var e=Object(c.d)();try{if("Android"===e)return void window.android.nativeGoAddress();"iOS"===e&&window.webkit.messageHandlers.nativeGoAddress.postMessage("")}catch(e){}},returnAddress:function(e){if(e)return this.flag=!0,void(this.userInfo="string"==typeof e?JSON.parse(e):e);this.flag=!1},getData:function(){var e=this;return i()(a.a.mark(function t(){var s,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s="integralGoods/detail",n={id:e.$route.query.goodsId},t.next=4,e.$http(s,n).then(function(t){t.code===e.$ok&&(e.bannerImg=t.data.image,e.title=t.data.title,e.honeyNumber=t.data.integral_sum)});case 4:case"end":return t.stop()}},t,e)}))()},getHoney:function(){var e=this;this.$http("integral/my").then(function(t){t.code===e.$ok&&(e.sumNumber=t.data.credits)})},exchangeShop:function(){var e=this;this.getData().then(function(){e.userInfo?""!==e.number&&0!==e.number?e.price>e.sumNumber?e.$refs.alliancePopup.show():e.$refs.successPopup.show():e.$t("蜂蜜数量不可为空和为0"):e.$t("请选择收货地址","middle")})},gohide:function(){this.$refs.alliancePopup.hide()},hide:function(){this.$refs.successPopup.hide()},confim:function(){var e=this,t={id:this.$route.query.goodsId,addressId:this.userInfo.id,number:this.number};this.$http("integralGoods/addOrder",t).then(function(t){t.code===e.$ok&&e.$router.push({path:"/exchange-success",query:{moobile:t.data.service_mobile}}),600===t.code&&(e.$refs.successPopup.hide(),e.getData(),e.$t(t.message))})},goFirend:function(){Object(c.k)("nativeInviteFriends")},getUserInfo:function(){var e=this;return i()(a.a.mark(function t(){var s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http("order/getShippingAddress");case 2:200===(s=t.sent).code?(e.userInfo=s.data,e.addressId=s.data.id):e.$t(s.message,"middle");case 4:case"end":return t.stop()}},t,e)}))()}},components:{BaseInputNumber:o.a,BaseFooter:u.a}}),f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-address-container"},[n("base-header"),e._v(" "),n("div",{staticClass:"info",on:{click:e.jumpAddress}},[e.userInfo?n("div",[n("div",{staticClass:"user-info"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.userInfo.full_name,expression:"userInfo.full_name"}]},[e._v(e._s(e.userInfo.full_name))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.userInfo.mobile,expression:"userInfo.mobile"}]},[e._v(e._s(e.userInfo.mobile))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.userInfo.provinceChinese&&e.userInfo.cityChinese&&e.userInfo.areaChinese,expression:"userInfo.provinceChinese && userInfo.cityChinese && userInfo.areaChinese"}],staticClass:"address"},[e._v("\n        "+e._s(e.userInfo.provinceChinese)+e._s(e.userInfo.cityChinese)+e._s(e.userInfo.areaChinese)+e._s(e.userInfo.address)+"\n      ")])]):e._e(),e._v(" "),e.userInfo?e._e():n("div",[e._v("\n      请选择收货地址\n    ")]),e._v(" "),n("img",{attrs:{src:s("ncuU"),alt:""}})]),e._v(" "),n("img",{attrs:{src:s("9P2M"),alt:""}}),e._v(" "),n("div",{staticClass:"shop-detail"},[n("div",{staticClass:"shop-detail-info"},[n("div",{staticClass:"detail-info-left"},[n("img",{attrs:{src:e.bannerImg,alt:""}})]),e._v(" "),n("div",{staticClass:"detail-info-right"},[n("p",[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"bootom"},[e._m(0),e._v(" "),n("div",{staticClass:"name"},[e._v(e._s(e.honeyNumber))]),e._v(" "),n("div",{staticClass:"price"},[e._v("蜂蜜")]),e._v(" "),n("div",{staticClass:"goods-add-item"},[n("base-input-number",{attrs:{min:1},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)])])]),e._v(" "),n("div",{staticClass:"total"},[n("span",[e._v("合计：")]),e._v(" "),n("span",[e._v(e._s(e.price))]),e._v(" "),n("span",[e._v("蜂蜜")])])]),e._v(" "),n("base-footer",{staticClass:"fotterButton",attrs:{background:e.isColor,text:"确认"},on:{footerSubmit:e.exchangeShop}}),e._v(" "),n("base-senior-popup",{ref:"alliancePopup",staticClass:"alliance-popup",attrs:{height:"auto"}},[n("p",{staticClass:"red"},[e._v("您的蜂蜜数不足")]),e._v(" "),n("p",{staticClass:"two"},[e._v("认证店铺，邀请好友注册认证可")]),e._v(" "),n("p",{staticClass:"tress"},[e._v("赚取蜂蜜哦~")]),e._v(" "),n("div",{staticClass:"fot-button"},[n("div",{staticClass:"left-button",on:{click:e.gohide}},[e._v("知道了")]),e._v(" "),n("div",{staticClass:"right-button",on:{click:e.goFirend}},[e._v("邀请好友赚蜂蜜")])])]),e._v(" "),n("base-senior-popup",{ref:"successPopup",staticClass:"alliance-popup",attrs:{height:"auto"}},[n("p",{staticClass:"red"},[e._v("确定使用"+e._s(e.price)+"蜂蜜兑换吗？")]),e._v(" "),n("div",{staticClass:"fot-button"},[n("div",{staticClass:"left-button",on:{click:e.hide}},[e._v("取消")]),e._v(" "),n("div",{staticClass:"right-button",on:{click:e.confim}},[e._v("确定")])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"honey-images"},[t("img",{attrs:{src:s("az1X"),alt:""}})])}]};var l=s("VU/8")(d,f,!1,function(e){s("eI/Z")},null,null);t.default=l.exports},"9P2M":function(e,t){e.exports="data:image/png;base64,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"},"eI/Z":function(e,t){},ncuU:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAASCAYAAABit09LAAAAAXNSR0IArs4c6QAAAS9JREFUKBWFkr9KxEAQh2+XID5LkmewsrITCy0OizT+AzlE4SwOPRDOQjhBsTm0ECy0uUKsrHyHJIVvomji94uurEnUgd2Znfn2N5MlnTRNt/I8n+/8Y9YYk5RleQ+88Bcr8AlwljUFXvwNtmEY7gAfA84URXEHvNwGWyWjKNoHHhIGXLgBXq3Dxk9kWdYHHHGpwK/HcTxx9R+gkqj1GGEMXHLcptu58lVrBc6Y+dRau6kzqmd02VXcUFRSBpDgJsDcs4OGYkV9bmr9ba0gc25AXEqNWfcY56gBfn3MhaSA9DEnVazNmfc8iJVrrc8DdEDxEJV3VkK7aycgH2gDGgH1Cd+AukC3yvtm+M3GJHoAr6wVoKkPuDigOMfhBb8E9OAKda+f4IoHfQZ6rBf98wfpQItrw30jTwAAAABJRU5ErkJggg=="}});