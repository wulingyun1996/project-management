webpackJsonp([48],{NjuA:function(t,e){t.exports={"甲方采购人员":1,"乙方采购人员":2,"建材门店导购员":3,"建材工程业务员":4,"设计从业者":5,"施工从业者":6,"建材经销商":7,"其他":8}},im9x:function(t,e){},kSxc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xxa5"),a=n.n(i),s=n("//Fk"),o=n.n(s),u=n("mvHQ"),d=n.n(u),h=n("exGp"),c=n.n(h),r=n("Dd8w"),l=n.n(r),f=n("dQvZ"),p=n("r0TW"),v=n("aPNe"),y=n.n(v),m=n("NjuA"),_=n.n(m),k=n("DHfu"),w=n("NYxO"),R=(l()({},Object(w.e)(["authenRole"]),{ispassedAuthend:function(){return 2===this.auditeStatus}}),l()({},Object(w.d)(["SET_AUTHEN_ROLE"]),{queryIdentityStatus:function(){var t=this;return c()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="auditResult",e.next=3,t.$http(n).then(function(e){e.code===t.$ok&&(t.auditeStatus=e.data.audit_status,t.finallyName=e.data.title?e.data.title&&t.authenRole?t.authenRole:e.data.title:t.authenRole,t.roleName=e.data.title?e.data.title&&t.authenRole?t.authenRole:e.data.title:t.authenRole,t.justifyRole(),2===t.auditeStatus&&Object(k.k)("navigationItem",d()({})),3===t.auditeStatus&&t.$router.push("/auditing"))});case 3:return e.abrupt("return",o.a.resolve());case 4:case"end":return e.stop()}},e,t)}))()},sendIdentity:function(t){var e=this,n={title:this.finallyName,identity_form:t};return new o.a(function(t,i){e.$http("addIdentity",n).then(function(e){t(e.data)})})},queryTel:function(){var t=this;this.$http("home/getCustomerInfo").then(function(e){e.code===t.$ok&&(t.telePhone=e.data.service_phone)})},authenAnswer:function(t){var e=this;this.sendIdentity(t).then(function(){e.$router.push({name:"AuthenAnswer",query:{type:2,identityName:e.finallyName}})})},invokeTel:function(){Object(k.k)("invokeTel",this.telePhone),this.isShow=!1},scanCode:function(t){Object(k.k)("scanCode","authenIdentity"),this.sendIdentity(t)},goHome:function(){this.sendIdentity(4).then(function(){Object(k.u)()})},hasAuthend:function(){Object(k.u)(),Object(k.k)("setIdentityAuth",2)},show:function(t){this.isShow=!0,this.sendIdentity(t).then(function(t){t?Object(k.k)("setIdentityAuthId",t):Object(k.k)("setIdentityAuthId","")})},hide:function(){this.isShow=!1},showRoles:function(){this.$refs.popup.show()},hideRoles:function(){this.$refs.popup.hide()},modifyRole:function(){this.finallyName=this.roleName,this.justifyRole(),this.SET_AUTHEN_ROLE(this.finallyName),this.hideRoles()},justifyRole:function(){var t=_.a[this.finallyName];this.headerPic=n("neyL")("./identity"+t+".png")}}),f.a,p.a,{data:function(){return{identity:y.a,finallyName:null,roleName:"",headerPic:"",isShow:!1,telePhone:null,auditeStatus:null}},computed:l()({},Object(w.e)(["authenRole"]),{ispassedAuthend:function(){return 2===this.auditeStatus}}),created:function(){var t=this;this.queryTel(),this.queryIdentityStatus().then(function(){t.sendIdentity(2)})},methods:l()({},Object(w.d)(["SET_AUTHEN_ROLE"]),{queryIdentityStatus:function(){var t=this;return c()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="auditResult",e.next=3,t.$http(n).then(function(e){e.code===t.$ok&&(t.auditeStatus=e.data.audit_status,t.finallyName=e.data.title?e.data.title&&t.authenRole?t.authenRole:e.data.title:t.authenRole,t.roleName=e.data.title?e.data.title&&t.authenRole?t.authenRole:e.data.title:t.authenRole,t.justifyRole(),2===t.auditeStatus&&Object(k.k)("navigationItem",d()({})),3===t.auditeStatus&&t.$router.push("/auditing"))});case 3:return e.abrupt("return",o.a.resolve());case 4:case"end":return e.stop()}},e,t)}))()},sendIdentity:function(t){var e=this,n={title:this.finallyName,identity_form:t};return new o.a(function(t,i){e.$http("addIdentity",n).then(function(e){t(e.data)})})},queryTel:function(){var t=this;this.$http("home/getCustomerInfo").then(function(e){e.code===t.$ok&&(t.telePhone=e.data.service_phone)})},authenAnswer:function(t){var e=this;this.sendIdentity(t).then(function(){e.$router.push({name:"AuthenAnswer",query:{type:2,identityName:e.finallyName}})})},invokeTel:function(){Object(k.k)("invokeTel",this.telePhone),this.isShow=!1},scanCode:function(t){Object(k.k)("scanCode","authenIdentity"),this.sendIdentity(t)},goHome:function(){this.sendIdentity(4).then(function(){Object(k.u)()})},hasAuthend:function(){Object(k.u)(),Object(k.k)("setIdentityAuth",2)},show:function(t){this.isShow=!0,this.sendIdentity(t).then(function(t){t?Object(k.k)("setIdentityAuthId",t):Object(k.k)("setIdentityAuthId","")})},hide:function(){this.isShow=!1},showRoles:function(){this.$refs.popup.show()},hideRoles:function(){this.$refs.popup.hide()},modifyRole:function(){this.finallyName=this.roleName,this.justifyRole(),this.SET_AUTHEN_ROLE(this.finallyName),this.hideRoles()},justifyRole:function(){var t=_.a[this.finallyName];this.headerPic=n("neyL")("./identity"+t+".png")}}),components:{BasePopupTransition:f.a,BasePopupPass:p.a}}),N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"authen-type-container"},[n("div",{staticClass:"authen-type-header"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:t.headerPic,alt:""}})]),t._v(" "),n("div",{staticClass:"description"},[n("div",{staticClass:"choice-id",on:{click:t.showRoles}},[t._v("\n        "+t._s(t.finallyName)+"\n      ")]),t._v(" "),n("p",[t._v("享专属直采价   赚取高额佣金")])])]),t._v(" "),n("div",{staticClass:"authen-type-body"},[n("div",{staticClass:"authen-type"},[n("div",{staticClass:"authen-tel",on:{click:function(e){t.show(1)}}},[n("span"),t._v(" "),n("h1",[t._v("客服电话认证")])]),t._v(" "),n("div",{staticClass:"authen-answer",on:{click:function(e){t.authenAnswer(2)}}},[n("span"),t._v(" "),n("h1",[t._v("答题快速认证")])]),t._v(" "),n("div",{staticClass:"authen-code",on:{click:function(e){t.scanCode(3)}}},[n("span"),t._v(" "),n("h1",[t._v("扫描商家二维码快速认证")])])]),t._v(" "),n("div",{staticClass:"authen-later",on:{click:t.goHome}},[n("span"),t._v(" "),n("h1",[t._v("以后再说")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"authen-popup"},[n("div",{staticClass:"authen-popup-body"},[n("p",[n("span",{staticClass:"close-icon",on:{click:t.hide}})]),t._v(" "),n("h2",[t._v("即拨打电话")]),t._v(" "),n("div",{staticClass:"tel"},[n("span",{staticClass:"tel-icon"}),t._v(" "),n("h3",{on:{click:t.invokeTel}},[t._v(t._s(t.telePhone))])])])]),t._v(" "),n("base-popup-transition",{ref:"popup"},[n("div",{staticClass:"register-content iphone-x-bottom"},[n("h1",{staticClass:"title"},[t._v("\n        请选择您的身份\n        "),n("span",{on:{click:t.hideRoles}})]),t._v(" "),n("div",{staticClass:"form"},t._l(t.identity,function(e){return n("div",{key:e.id,staticClass:"form-group"},[n("label",{attrs:{for:e.id}},[n("span",{class:{active:e.name===t.roleName}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.roleName,expression:"roleName"}],attrs:{type:"radio",id:e.id},domProps:{value:e.name,checked:t._q(t.roleName,e.name)},on:{change:function(n){t.roleName=e.name}}}),t._v(t._s(e.name)+"\n          ")]),t._v(" "),n("h2",[t._v(t._s(e.title))])])})),t._v(" "),n("div",{staticClass:"register-submit",on:{click:t.modifyRole}},[t._v("确定")])])]),t._v(" "),n("base-popup-pass",{directives:[{name:"show",rawName:"v-show",value:t.ispassedAuthend,expression:"ispassedAuthend"}],on:{comfirm:t.hasAuthend}})],1)},staticRenderFns:[]};var I=n("VU/8")(R,N,!1,function(t){n("im9x")},"data-v-6cc1cd7e",null);e.default=I.exports},neyL:function(t,e,n){var i={"./identity0.png":"/IU8","./identity1.png":"9dO5","./identity2.png":"vn1O","./identity3.png":"CPR2","./identity4.png":"HGK0","./identity5.png":"YOEu","./identity6.png":"IRcd","./identity7.png":"fekH","./identity8.png":"XU6J"};function a(t){return n(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(i)},a.resolve=s,t.exports=a,a.id="neyL"}});