webpackJsonp([78,163],{H0s9:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Xxa5"),o=e.n(a),i=e("//Fk"),r=e.n(i),n=e("Gu7T"),c=e.n(n),d=e("exGp"),l=e.n(d),p=e("msXN"),u=(p.b,Number,[{text:"综合",id:1},{text:"佣金",id:2,sort:"default"},{text:"价格",id:3,sort:"default"}]),h={name:"ShopGoodsSearchResult",mixins:[p.b],props:{id:{type:Number,default:211},authenStatus:{default:2},keyWords:""},data:function(){return{goodsTab:1,goodsTypeTabList:u,filterGoodsRule:{type:1,sort:null}}},created:function(){this.getData()},methods:{goBack:function(){var s=this;this.$refs.searchResultWrapper.classList.add("goods-search-result-container","animation_slide_to_right"),setTimeout(function(){s.$back()},500)},filterShopGoods:function(s){var t=this,e=s.sort,a=s.id;this.goodsTab=a,this.filterGoodsRule.type=a,this.goodsTypeTabList[1].sort="default",this.goodsTypeTabList[2].sort="default",e?"up"===e?(this.goodsTypeTabList[a-1].sort="down",this.filterGoodsRule.sort="down"):(this.goodsTypeTabList[a-1].sort="up",this.filterGoodsRule.sort="up"):this.filterGoodsRule.sort=null,this.pullDownRefreshData(),this.$nextTick(function(){t.$refs.searchGoodsScroll.scrollTo(0,0,0,0)})},getData:function(){var s=this;return l()(o.a.mark(function t(){var e,a,i,n,d,l,p,u,h;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.filterGoodsRule,a=s.m_hasMore,i=s.m_pageSize,n=s.id,d=s.keyWords,l=e.type,p=e.sort,a){t.next=4;break}return t.abrupt("return");case 4:u="adv/goodsList",h={id:n,search:d.trim(),page:++s.m_page,pageSize:i},t.t0=l,t.next=2===t.t0?9:3===t.t0?19:29;break;case 9:t.t1=p,t.next="up"===t.t1?12:"down"===t.t1?15:18;break;case 12:return h.commission_order="asc",h.price_order="",t.abrupt("break",18);case 15:return h.commission_order="desc",h.price_order="",t.abrupt("break",18);case 18:return t.abrupt("break",29);case 19:t.t2=p,t.next="up"===t.t2?22:"down"===t.t2?25:28;break;case 22:return h.price_order="asc",h.commission_order="",t.abrupt("break",28);case 25:return h.price_order="desc",h.commission_order="",t.abrupt("break",28);case 28:return t.abrupt("break",29);case 29:return s.$http(u,h).then(function(t){if(t.code===s.$ok)return 1===s.m_page?s.m_dataList=t.data.data:s.m_dataList=[].concat(c()(s.m_dataList),c()(t.data.data)),void s._checkMore(t.data);s.$t(t.message)}),t.abrupt("return",r.a.resolve());case 31:case"end":return t.stop()}},t,s)}))()},goGoodsDetail:function(s){this.$push({name:"GoodsDetail",query:{goodsId:s}})}}},v={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{ref:"searchResultWrapper",staticClass:"goods-search-result-container animation_slide_to_left"},[a("div",{staticClass:"goods-search-header"},[a("div",{staticClass:"search-header",class:{"ipone-x":s.$isX&&!s.inWx,ipone:s.isPone&&!s.inWx}},[a("a",{staticClass:"arrow-back",attrs:{href:"javascript:"},on:{click:s.goBack}},[a("i",{staticClass:"icon-back"})]),s._v(" "),a("div",{staticClass:"search-input",on:{click:s.goBack}},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.keyWords,expression:"keyWords"}],attrs:{type:"text",readonly:""},domProps:{value:s.keyWords},on:{input:function(t){t.target.composing||(s.keyWords=t.target.value)}}})])])]),s._v(" "),a("div",{staticClass:"goods-search-content-wrapper"},[a("div",{staticClass:"shop-goods-tabs-wrapper"},[a("ul",{staticClass:"goods-tab-list"},s._l(s.goodsTypeTabList,function(t){return a("li",{key:t.id,staticClass:"goods-tab-item",class:{active:s.goodsTab===t.id},on:{click:function(e){s.filterShopGoods(t)}}},[s._v("\n          "+s._s(t.text)+"\n          "),a("i",{directives:[{name:"show",rawName:"v-show",value:1!==t.id,expression:"goodsTypeTabItem.id !== 1"}],class:(e={},e[t.sort]=!0,e)})]);var e}))]),s._v(" "),a("transition",{attrs:{name:"has-data"}},[a("base-scroll",{directives:[{name:"show",rawName:"v-show",value:s.m_dataList.length,expression:"m_dataList.length"}],ref:"searchGoodsScroll",attrs:{"has-more":s.m_hasMore,pullup:s.m_pullup,pulldown:s.m_pulldown,"has-loading":s.m_loading,"has-refresh":s.m_refresh,data:s.m_dataList},on:{scrollToEnd:s.getData,pulldown:s.pullDownRefreshData}},[a("ul",{staticClass:"goods-list"},s._l(s.m_dataList,function(t){return a("li",{key:t.id,staticClass:"goods-item",on:{click:function(e){s.goGoodsDetail(t.id)}}},[a("div",{staticClass:"goods-pic"},[a("i",{staticClass:"goods-bg",class:{"hot-goods":"yes"===t.isHot,"flash-goods":"yes"===t.isSale}}),s._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"yes"===t.isHot,expression:"goodsItem.isHot === 'yes'"}],staticClass:"hot-goods-label"}),s._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"yes"===t.isSale,expression:"goodsItem.isSale === 'yes'"}],staticClass:"falsh-goods-label"}),s._v(" "),a("img",{attrs:{src:t.image_path,alt:""}})]),s._v(" "),a("h2",{staticClass:"goods-title"},[s._v(s._s(t.title))]),s._v(" "),a("div",{staticClass:"goods-category"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.is_stock_good,expression:"goodsItem.is_stock_good"}],staticClass:"new-goods"},[s._v("现货")]),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.boutique,expression:"goodsItem.boutique"}],staticClass:"best-goods"},[s._v("精品馆")]),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.material,expression:"goodsItem.material"}],staticClass:"meterial-goods"},[s._v("材料馆")]),s._v(" "),a("span",{staticClass:"placeholder"},[s._v("占位")])]),s._v(" "),a("div",{staticClass:"goods-price"},["yes"===t.isSale?a("div",{staticClass:"authened-price"},[a("p",{staticClass:"price"},[a("span",[s._v("￥")]),a("span",{staticClass:"price-int"},[s._v(s._s(s._f("getPriceInt")(t.sale_price)))]),a("span",{staticClass:"price-zero"},[s._v("."+s._s(s._f("getPriceZero")(t.sale_price)))])])]):2===s.authenStatus?a("div",{staticClass:"authened-price"},[a("p",{staticClass:"price"},[a("span",[s._v("￥")]),a("span",{staticClass:"price-int"},[s._v(s._s(s._f("getPriceInt")(t.purchase_price)))]),a("span",{staticClass:"price-zero"},[s._v("."+s._s(s._f("getPriceZero")(t.purchase_price)))])])]):a("div",{staticClass:"unauthen-price"},[a("p",{staticClass:"price"},[s._v("￥"),a("span",[s._v("***")])]),s._v(" "),a("b",{staticClass:"authen"},[s._v("认证看底价")])])])])}))])],1),s._v(" "),a("transition",{attrs:{name:"no-data"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!s.m_dataList.length,expression:"!m_dataList.length"}],staticClass:"search-no-goods"},[a("img",{attrs:{src:e("c9jk"),alt:""}}),s._v(" "),a("p",[s._v("在该店铺没有找到相关商品")])])])],1)])},staticRenderFns:[]};var _=e("VU/8")(h,v,!1,function(s){e("j6Jj")},"data-v-036b139e",null);t.default=_.exports},c9jk:function(s,t,e){s.exports=e.p+"static/img/img-placeholder.fa61163.png"},j6Jj:function(s,t){}});