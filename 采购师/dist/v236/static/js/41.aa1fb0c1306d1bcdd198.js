webpackJsonp([41],{"2fnH":function(e,t){},UNGY:function(e,t,n){"use strict";var i=n("fZjL"),r=n.n(i),a=n("oWtu"),o=n("pFYg"),s=n.n(o),l=n("+geU"),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[e.getDay()+""])),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t};function u(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break}function d(e){return e=(e=(e=String(e))?parseFloat(e.replace(/^0+/g,"")):"")||0,e+=""}function h(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=[],i=e;i<=t;i++)n.push(f(i));return n}function f(e){return(e=String(e)).length<2?"0"+e:e}function g(e,t){return e=parseFloat(e),2===(t=parseFloat(t))?function(e){return e%100!=0&&e%4==0||e%400==0}(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}function m(e,t){return e.replace(/\{value\}/g,t)}function v(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function p(e){e&&e.parentNode.removeChild(e)}function y(e,t,n,i){var r=e.getFullYear(),a=t.getFullYear(),o=e.getMonth()+1,s=t.getMonth()+1,l=e.getDate(),c=t.getDate(),u=1,d=function(e,t){return e=parseFloat(e),2===(t=parseFloat(t))?function(e){return e%100!=0&&e%4==0||e%400==0}(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}(n,i);return n===r&&i===o&&(u=l),n===a&&i===s&&(d=c),{minDay:u,maxDay:d}}var x="object"===("undefined"==typeof window?"undefined":s()(window)),S='<div class="dp-mask"></div>',w=200,b={year:["YYYY"],month:["MM","M"],day:["DD","D"],hour:["HH","H"],minute:["mm","m"],noon:["A"]},_=null,D=void 0,C=new Date,k={template:'<div class="dp-container">\n  <div class="dp-header">\n    <div class="dp-item dp-left vux-datetime-cancel" data-role="cancel">cancel</div>\n    <div class="dp-item vux-datetime-clear" data-role="clear"></div>\n    <div class="dp-item dp-right vux-datetime-confirm" data-role="confirm">done</div>\n  </div>\n  <div class="dp-content">\n    <div class="dp-item" data-role="year"></div>\n    <div class="dp-item" data-role="month"></div>\n    <div class="dp-item" data-role="day"></div>\n    <div class="dp-item" data-role="noon"></div>\n    <div class="dp-item" data-role="hour"></div>\n    <div class="dp-item" data-role="minute"></div>\n  </div>\n</div>',trigger:null,output:null,currentYear:C.getFullYear(),currentMonth:C.getMonth()+1,minYear:2e3,maxYear:2030,minHour:0,maxHour:23,hourList:null,minuteList:null,startDate:null,endDate:null,yearRow:"{value}",monthRow:"{value}",dayRow:"{value}",noonRow:"{value}",hourRow:"{value}",minuteRow:"{value}",format:"YYYY-MM-DD",value:C.getFullYear()+"-"+(C.getMonth()+1)+"-"+C.getDate(),onSelect:function(){},onConfirm:function(){},onClear:function(){},onShow:function(){},onHide:function(){},confirmText:"ok",clearText:"",cancelText:"cancel",destroyOnHide:!1,renderInline:!1,computeHoursFunction:null,computeDaysFunction:null,isOneInstance:!1,orderMap:{}};function M(e,t,n,i){return t=t.map(function(e){return e.value=e.value+"",e}),new l.a(e,{data:t,defaultValue:n+"",onSelect:i})}function T(e){var t,n=this;if(n.config={},n.value=e.value||"",u(k,function(t,i){n.config[t]=e[t]||i}),this.renderInline=n.config.renderInline,e.defaultSelectedValue&&!e.value&&(n.config.value=e.defaultSelectedValue),"string"==typeof this.config.startDate&&(this.config.startDate=new Date(this.config.startDate.replace(/-/g,"/"))),"string"==typeof this.config.endDate&&(this.config.endDate=new Date(this.config.endDate.replace(/-/g,"/"))),this.config.startDate&&!this.config.endDate&&(this.config.endDate=new Date("2030/12/31")),!this.config.startDate&&this.config.endDate&&(this.config.startDate=new Date(this.config.minYear+"/01/01")),this.reMakeData=!!this.config.startDate&&!!this.config.endDate,!this.renderInline){var i=n.config.trigger;this.triggerHandler=function(e){e.preventDefault(),n.show(n.value)},i&&x&&(i=n.trigger="string"==typeof(t=i)?document.querySelector(t):t,this.trigger=i,this.trigger&&this.trigger.addEventListener("click",this.triggerHandler,!1))}}T.prototype={_show:function(e){var t=this;t._setText(),t.container.style.display="block",this.renderInline&&t.container.classList.add("vux-datetime-view"),u(b,function(n){t[n+"Scroller"]&&t[n+"Scroller"].select("noon"===n?e[n]:d(e[n]),!1)}),setTimeout(function(){t.container.style["-webkit-transform"]="translateY(0)",t.container.style.transform="translateY(0)"},0)},show:function(e){if(x){var t=this,n=t.config;if(n.isOneInstance){if(document.querySelector("#vux-datetime-instance"))return;t.willShow=!0}D=t;var i=t.valueMap=function(e,t){var n=e.split(/[^A-Za-z]+/),i=t.replace(/\s/g,"-").replace(/:/g,"-").replace(/\//g,"-").split("-");n.length!==i.length&&(i=c(new Date,e).split(/\D+/));for(var r={},a=0;a<n.length;a++)n[a]&&(r[n[a]]=i[a]);return r}(n.format,e||n.value),r={};if(u(b,function(e,t){r[e]=1===t.length?i[t[0]]:i[t[0]]||i[t[1]]}),t.container)t._show(r);else{var a=n.template;for(var o in n.orderMap)a=a.replace('data-role="'+o+'"','data-role="'+o+'" style="order:'+n.orderMap[o]+'"');var s=t.container=v(a);n.isOneInstance&&(s.id="vux-datetime-instance"),t.renderInline?document.querySelector(t.config.trigger).appendChild(s):(document.body.appendChild(s),t.container.style.display="block"),u(b,function(e){var i=t.find("[data-role="+e+"]");if(void 0!==r[e]){var a=void 0;a="day"===e?t._makeData(e,d(r.year),d(r.month)):"hour"===e?t._makeData(e,d(r.year),d(r.month),d(r.day)):t._makeData(e),t[e+"Scroller"]=M(i,a,d(r[e]),function(i){setTimeout(function(){n.onSelect.call(t,e,i,t.getValue())},0),"year"!==e&&"month"!==e&&"day"!==e||t.hourScroller&&t._setHourScroller(t.yearScroller.value,t.monthScroller.value,t.dayScroller.value,t.hourScroller.value);var r=void 0;if("year"===e){var a=t.monthScroller?t.monthScroller.value:n.currentMonth;t._setMonthScroller(i,a),t.dayScroller&&(r=t.dayScroller.value,t._setDayScroller(i,a,r))}else if("month"===e){var o=t.yearScroller?t.yearScroller.value:n.currentYear;t.dayScroller&&(r=t.dayScroller.value,t._setDayScroller(o,i,r))}})}else p(i)}),t.renderText||t.renderInline||(t.config.confirmText&&(t.find("[data-role=confirm]").innerText=t.config.confirmText),t.config.cancelText&&(t.find("[data-role=cancel]").innerText=t.config.cancelText),t.config.clearText&&(t.find("[data-role=clear]").innerText=t.config.clearText),t.renderText=!0),this._show(r),t.find("[data-role=cancel]").addEventListener("click",function(e){e.preventDefault(),t.hide("cancel")},!1),t.find("[data-role=confirm]").addEventListener("click",function(e){e.preventDefault(),t.confirm()},!1),t.config.clearText&&t.find("[data-role=clear]").addEventListener("click",function(e){e.preventDefault(),t.clear()},!1)}this.renderInline||(x&&(_||(_=v(S),document.body.appendChild(_),_.addEventListener("click",function(){D&&D.hide("cancel")},!1),_.addEventListener("touchmove",function(e){e.preventDefault()},!1)),_.style.display="block",setTimeout(function(){_&&(_.style.opacity=.5)},0)),n.onShow.call(t))}},_setText:function(){},_makeData:function(e,t,n,i){var r,a,o=this.config,s=this.valueMap,l=b[e],c=[],u=void 0,d=void 0;if("year"===e){if(u=o.minYear,d=o.maxYear,this.reMakeData){var v=function(e,t){for(var n=e.getFullYear(),i=t.getFullYear(),r=[];n<=i;)r.push(n),n++;return{minYear:r[0],maxYear:r[r.length-1]}}(this.config.startDate,this.config.endDate);u=v.minYear,d=v.maxYear}}else if("month"===e){if(u=1,d=12,this.reMakeData){var p=function(e,t,n){var i=e.getFullYear(),r=t.getFullYear(),a=e.getMonth()+1,o=t.getMonth()+1,s=1,l=12;return n===i&&(s=a),n===r&&(l=o),{minMonth:s,maxMonth:l}}(this.config.startDate,this.config.endDate,1*this.yearScroller.value),x=p.minMonth,S=p.maxMonth;u=Math.max(u,x),d=Math.min(d,S)}}else if("day"===e){if(u=1,d=g(t,n),this.reMakeData){var w=y(this.config.startDate,this.config.endDate,1*this.yearScroller.value,1*this.monthScroller.value),_=w.minDay,D=w.maxDay;u=Math.max(u,_),d=Math.min(d,D)}}else"hour"===e?(u=this.config.minHour,d=this.config.maxHour):"minute"===e&&(u=0,d=59);for(var C=u;C<=d;C++){var k=void 0;if("year"===e)k=m(o.yearRow,C);else{var M=s[l[0]]?f(C):C;k=m(o[e+"Row"],M)}c.push({name:k,value:C})}if("noon"===e&&(c.push({name:"上午",value:"AM"}),c.push({name:"下午",value:"PM"})),"hour"===e&&this.config.hourList&&(c=this.config.hourList.map(function(e){return{name:m(o.hourRow,e),value:Number(e)}})),"day"===e&&this.config.computeDaysFunction){var T=this.config.computeDaysFunction({year:t,month:n,min:u,max:d},h);T&&(c=T.map(function(e){return{name:m(o.dayRow,f(e)),value:Number(e)}}))}if("hour"===e&&this.config.computeHoursFunction){var $=(r=new Date(t+"/"+n+"/"+i),a=new Date,r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()&&r.getDate()===a.getDate());c=this.config.computeHoursFunction(t+"-"+n+"-"+i,$,h).map(function(e){return{name:m(o.hourRow,e),value:Number(e)}})}return"minute"===e&&this.config.minuteList&&(c=this.config.minuteList.map(function(e){return{name:m(o.minuteRow,e),value:Number(e)}})),c},_setMonthScroller:function(e,t){if(this.monthScroller){var n=this;this.monthScroller.destroy();var i=n.find("[data-role=month]");n.monthScroller=M(i,n._makeData("month"),t,function(e){n.config.onSelect.call(n,"month",e,n.getValue());var t=n.yearScroller?n.yearScroller.value:n.config.currentYear;if(n.dayScroller){var i=n.dayScroller.value;n._setDayScroller(t,e,i)}n.yearScroller&&n.monthScroller&&n.hourScroller&&n._setHourScroller(t,e,n.dayScroller.value,n.hourScroller.value)})}},_setDayScroller:function(e,t,n){if(this.dayScroller){var i=this,r=g(e,t);n>r&&(n=r),i.dayScroller.destroy();var a=i.find("[data-role=day]");i.dayScroller=M(a,i._makeData("day",e,t),n,function(n){i.config.onSelect.call(i,"day",n,i.getValue()),i.hourScroller&&i._setHourScroller(e,t,n,i.hourScroller.value)})}},_setHourScroller:function(e,t,n,i){if(this.hourScroller){var r=this;r.hourScroller.destroy();var a=r.find("[data-role=hour]");r.hourScroller=M(a,r._makeData("hour",e,t,n),i||"",function(e){r.config.onSelect.call(r,"hour",e,r.getValue())})}},find:function(e){return this.container.querySelector(e)},hide:function(e){if(this.container){var t=this;t.container.style.removeProperty("transform"),t.container.style.removeProperty("-webkit-transform"),setTimeout(function(){t.container&&(t.container.style.display="none")},300),_&&(_.style.opacity=0,setTimeout(function(){_&&(_.style.display="none")},w)),t.config.onHide.call(t,e),t.config.destroyOnHide&&setTimeout(function(){t.destroy()},500)}},select:function(e,t){this[e+"Scroller"].select(t,!1)},destroy:function(){this.trigger&&this.trigger.removeEventListener("click",this.triggerHandler,!1),this.config.isOneInstance||this.willShow||(p(_),_=null),p(this.container),this.container=null},getValue:function(){var e=this,t=e.config.format;return u(b,function(n,i){!function(e,n,i){if(e){var r=e.value;n&&(t=t.replace(new RegExp(n,"g"),f(r))),i&&(t=t.replace(new RegExp(i,"g"),d(r)))}}(e[n+"Scroller"],i[0],i[1])}),t},confirm:function(){var e=this.getValue();this.value=e,!1!==this.config.onConfirm.call(this,e)&&this.hide("confirm")},clear:function(){var e=this.getValue();!1!==this.config.onClear.call(this,e)&&this.hide("clear")}};var $=T,H=n("rHil"),V=n("kbG3"),Y={created:function(){this.uuid=Math.random().toString(36).substring(3,8)}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(!e)return"";"string"==typeof e&&(e=new Date(e.replace(/-/g,"/"))),"number"==typeof e&&(e=new Date(e));var n={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[e.getDay()+""])),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t},R=(H.a,V.a,a.a,String,String,String,String,String,Number,Number,String,String,String,String,String,String,String,String,Boolean,Number,Number,String,String,String,Function,Boolean,Array,Array,Boolean,String,Function,Function,Object,{name:"datetime",mixins:[Y],components:{Group:H.a,InlineDesc:V.a,Icon:a.a},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,n,i){e.picker&&e.picker.config.renderInline&&(e.$emit("input",i),e.$emit("on-change",i))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=r()(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new $(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=F(this.currentValue,e)),this.render()},value:function(e){this.readonly||this.picker&&this.picker.config.renderInline?this.currentValue=e:this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}),L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!e.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[e._t("default",[n("div",[e._t("title",[n("p",{class:e.labelClass,style:e.styles,domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e.inlineDesc?n("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),n("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:e.valueTextAlign}},[!e.currentValue&&e.placeholder?n("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.currentValue?n("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayFormat?e.displayFormat(e.currentValue):e.currentValue))]):e._e(),e._v(" "),n("icon",{directives:[{name:"show",rawName:"v-show",value:!e.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.firstError}})],1)])],2)},staticRenderFns:[]};var E=n("VU/8")(R,L,!1,function(e){n("vnXK")},null,null);t.a=E.exports},ak2v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("d7EF"),r=n.n(i),a=n("dQvZ"),o=n("rHil"),s=n("cHu4"),l=n("UNGY"),c=n("ALGc"),u=n("4LBN"),d=n.n(u),h=n("DHfu"),f=n("X2Oc"),g=(a.a,o.a,s.a,l.a,c.a,{data:function(){return{categoryList:[],currentGoodsIndex:-1,goodsName:"",goodsNum:"",goodsCategory:"",categoryId:"",cityList:d.a,city:[],dateTime:"",startDate:Object(f.f)(),goodsMessage:"",imgList:[]}},computed:{imgListLength:function(){return this.imgList.length}},created:function(){this.getGoodsCategory(),window.album=this.getAndoriadPic,Object(h.b)("您确定放弃编辑吗？")},methods:{getGoodsCategory:function(){var e=this;this.$http("basic/productCategory").then(function(t){if(t.code===e.$ok){var n=0;t.data.forEach(function(e){e.currentIndex=-1,e.next&&e.next.forEach(function(t){t.title=e.name+">>"+t.name,t.goodsIndex=n,n++})}),e.categoryList=t.data}})},chooseCurrentItem:function(e){var t=this.categoryList[e];e!==t.currentIndex?t.currentIndex=e:t.currentIndex=-1},chooseGoods:function(e,t,n){this.categoryId=e,this.currentGoodsIndex=t,this.goodsCategory=n,this.hideGoodsCategory()},showGoodsCategory:function(){this.$refs.popup.show()},hideGoodsCategory:function(){this.$refs.popup.hide()},getAndoriadPic:function(e){this.imgList.push(e)},uploadPic:function(){var e=this,t=Object(h.d)();if("Android"===t)return window.android.selectPic(),!1;"iOS"===t&&Object(h.a)("","selectPic").then(function(t){var n=r()(t,1)[0];e.imgList.push(n)})},removePic:function(e){this.imgList.splice(e)},submitWantToBuy:function(){var e=this;if(this.checkFieldValidity()){var t=r()(this.city,2),n=t[0],i=t[1],a=r()(this.imgList,2),o=a[0],s=a[1],l={type:1,title:this.goodsName,category_id:this.categoryId,province_id:n,city_id:i,goods_num:this.goodsNum,deadline:this.dateTime,content:this.goodsMessage,image_path:o||"",image_path_two:s||""};this.$http("asktobuy/addItemAskToBuy",l).then(function(t){if(t.code===e.$ok)return e.$t("发布求购成功","middle"),e.$root.listInfo=null,void e.$router.push("/want-to-buy");e.$t(t.message,"middle")})}},checkFieldValidity:function(){return this.goodsName.trim()?this.city.length?!!this.goodsMessage.trim()||(this.$t("请填写求购信息","middle"),!1):(this.$t("请选择地址","middle"),!1):(this.$t("请填写主题","middle"),!1)},beforeScroll:function(){var e=this.$refs.placeholder;e.style.height=e.offsetHeight+1+"px"}},components:{BasePopupTransition:a.a,Group:o.a,XAddress:s.a,Datetime:l.a,XTextarea:c.a}}),m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"want-to-buy-goods-wrapper"},[n("base-scroll",{staticClass:"want-to-bue-wrapper",attrs:{hasMore:!0}},[n("div",{staticClass:"seperate"}),e._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"item-icon wtb-name"}),e._v(" "),n("div",{staticClass:"item-content bd-b"},[n("label",{attrs:{for:""}},[n("x-textarea",{attrs:{height:25,title:"",placeholder:"填写求购商品名称、品牌、型号更容易找到卖家（30字）",max:30},on:{"on-focus":e.justifyBodyHeight,"on-blur":e.restoreBodyHeight},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}})],1)])]),e._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"item-icon wtb-category"}),e._v(" "),n("div",{staticClass:"item-content",on:{click:e.showGoodsCategory}},[n("label",{attrs:{for:""}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.goodsCategory,expression:"goodsCategory"}],attrs:{type:"text",placeholder:"选择商品分类",readonly:""},domProps:{value:e.goodsCategory},on:{input:function(t){t.target.composing||(e.goodsCategory=t.target.value)}}})]),e._v(" "),n("span",{staticClass:"arrow-right"})])]),e._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"item-icon wtb-nums"}),e._v(" "),n("div",{staticClass:"item-content bd-b"},[n("label",{attrs:{for:""}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.goodsNum,expression:"goodsNum"}],attrs:{type:"text",placeholder:"输入商品数量",maxlength:"15"},domProps:{value:e.goodsNum},on:{input:function(t){t.target.composing||(e.goodsNum=t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"item-icon wtb-area"}),e._v(" "),n("div",{staticClass:"item-content"},[n("div",{staticClass:"address"},[n("group",[n("x-address",{attrs:{"value-text-align":"left",title:"",list:e.cityList,"hide-district":!0,placeholder:"供货商首选区域"},on:{"on-focus":e.justifyBodyHeight,"on-blur":e.restoreBodyHeight},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1)],1),e._v(" "),n("span",{staticClass:"arrow-right"})])]),e._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"item-icon wtb-clock"}),e._v(" "),n("div",{staticClass:"item-content"},[n("div",{staticClass:"date-time"},[n("group",[n("datetime",{attrs:{title:"","start-date":e.startDate,placeholder:"默认为长期求购"},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1)],1),e._v(" "),n("span",{staticClass:"arrow-right"})])]),e._v(" "),n("div",{staticClass:"seperate"}),e._v(" "),n("div",{staticClass:"form-textarea"},[n("x-textarea",{attrs:{title:"",placeholder:"请填写求购商品信息，详细介绍可以得到更多相关商品推荐哦",max:100},on:{"on-focus":e.justifyBodyHeight,"on-blur":e.restoreBodyHeight},model:{value:e.goodsMessage,callback:function(t){e.goodsMessage=t},expression:"goodsMessage"}})],1),e._v(" "),n("div",{staticClass:"form-picture"},[e._l(e.imgList,function(t,i){return n("div",{key:i,staticClass:"item-pic"},[n("img",{attrs:{src:t,alt:""}}),e._v(" "),n("span",{on:{click:function(t){e.removePic(i)}}})])}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2!==e.imgListLength,expression:"imgListLength !== 2"}],staticClass:"pic-placeholder",on:{click:e.uploadPic}}),e._v(" "),n("p",[e._v("最多可上传2张与商品求购相关的图片~")])],2)]),e._v(" "),n("div",{ref:"button",staticClass:"want-to-buy-goods-footer"},[n("router-link",{attrs:{to:"/want-to-buy-goods/role-explain",tag:"h5"}},[e._v("《求购规则说明》")]),e._v(" "),n("base-footer",{on:{footerSubmit:e.submitWantToBuy}},[e._v("发布")])],1),e._v(" "),n("base-popup-transition",{ref:"popup",staticClass:"category-list-container"},[n("div",{staticClass:"category-list-wrapper"},[n("h1",{staticClass:"title"},[e._v("\n        选择商品分类\n        "),n("span",{on:{click:e.hideGoodsCategory}})]),e._v(" "),n("base-scroll",{staticClass:"category-list",attrs:{"has-more":!0,data:e.categoryList,"before-scroll":!0},on:{beforeScroll:e.beforeScroll}},[e._l(e.categoryList,function(t,i){return n("div",{key:i,staticClass:"category-list-item bd-b"},[n("div",{staticClass:"category-item",on:{click:function(t){e.chooseCurrentItem(i)}}},[n("h2",[e._v(e._s(t.name))]),e._v(" "),n("span",{class:{active:i===t.currentIndex}})]),e._v(" "),n("transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:i===t.currentIndex,expression:"index === item.currentIndex"}],staticClass:"list"},[n("ul",e._l(t.next,function(t){return n("li",{key:t.id,on:{click:function(n){e.chooseGoods(t.id,t.goodsIndex,t.title)}}},[n("span",{staticClass:"category-name"},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"category-icon",class:{active:e.currentGoodsIndex===t.goodsIndex}})])}))])])],1)}),e._v(" "),n("div",{ref:"placeholder"})],2)],1)]),e._v(" "),n("router-view")],1)},staticRenderFns:[]};var v=n("VU/8")(g,m,!1,function(e){n("2fnH")},null,null);t.default=v.exports},cHu4:function(e,t,n){"use strict";var i=n("diSF"),r=n.n(i),a=n("NXHL"),o=n.n(a),s={"北京市":"110100","天津市":"120100","上海市":"310100","重庆市":"500100"},l=function(e,t){var n=r()(e,function(n,i){var r="";return 2===i?(r=o()(t,function(t){return t.name===e[1]})||{value:"__"},s[e[0]]&&(r={value:s[e[0]]}),o()(t,function(e){return e.name===n&&e.parent===r.value})):1===i&&s[e[0]]?{value:s[e[0]]}:o()(t,function(e){return e.name===n})});return r()(n,function(e){return e?e.value:"__"}).join(" ")},c=n("NE4E"),u=n("7Ah8"),d=(u.a,String,Array,Boolean,Array,String,String,String,Boolean,String,String,String,Function,Object,String,Boolean,Boolean,{name:"x-address",components:{PopupPicker:u.a},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(e,t){return t}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var e=l(this.currentValue,this.list);/__/.test(e)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=e.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(e){this.$emit("on-hide",e)},getAddressName:function(){return Object(c.a)(this.value,this.list)},onShadowChange:function(e,t){this.$emit("on-shadow-change",e,t)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return Object(c.a)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e){this.$emit("input",e)},value:function(e){if(e.length&&!/\d+/.test(e[0])){var t=l(e,this.list).split(" ");if("__"!==t[0]&&"__"!==t[1])return void(this.currentValue=t)}this.currentValue=e},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}}}),h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popup-picker",{attrs:{"fixed-columns":e.hideDistrict?2:0,columns:3,data:e.list,title:e.title,"show-name":"","inline-desc":e.inlineDesc,placeholder:e.placeholder,"value-text-align":e.valueTextAlign,"confirm-text":e.confirmText,"cancel-text":e.cancelText,"display-format":e.displayFormat,"popup-style":e.popupStyle,"popup-title":e.popupTitle,show:e.showValue,disabled:e.disabled},on:{"update:show":function(t){e.showValue=t},"on-shadow-change":e.onShadowChange,"on-hide":e.emitHide,"on-show":function(t){e.$emit("on-show")}},scopedSlots:e._u([{key:"title",fn:function(t){return[e._t("title",[t.labelTitle?n("label",{class:[t.labelClass,e.labelClass],style:t.labelStyle,domProps:{innerHTML:e._s(t.labelTitle)}}):e._e()],{labelClass:t.labelClass,labelStyle:t.labelStyles,labelTitle:t.title})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})},staticRenderFns:[]},f=n("VU/8")(d,h,!1,null,null,null);t.a=f.exports},vnXK:function(e,t){}});