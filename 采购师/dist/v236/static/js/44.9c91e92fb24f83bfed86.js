webpackJsonp([44],{"1blr":function(t,e){},E4I6:function(t,e){},ViZd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("d7EF"),a=i.n(s),n=i("fZjL"),o=i.n(n),r=i("DHfu"),c=i("4LBN"),l=i.n(c),h=i("bh5B"),v=i("yPgl"),p=i("hR3u"),d=(String,{props:{text:{type:String,default:"客服会在一个工作日内受理，审核结果将以app消息方式通知您，请留意审核结果！"}},data:function(){return{showFlag:!1}},methods:{show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},goHome:function(){this.$emit("backHome")}}}),u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"confirm",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"confirm-wrapper"},[i("div",{staticClass:"confirm-content"},[i("h1",{staticClass:"title"},[t._v("\n        提交成功\n      ")]),t._v(" "),i("p",{staticClass:"description"},[t._v("\n        "+t._s(t.text)+"\n      ")]),t._v(" "),i("div",{staticClass:"btn",on:{click:t.goHome}},[t._v("\n        回首页\n      ")])])])])},staticRenderFns:[]};var m=i("VU/8")(d,u,!1,function(t){i("E4I6")},"data-v-9e39803c",null).exports,f=(Number,Number,{props:{time:{type:Number,default:.5},opacity:{type:Number,default:.4}},data:function(){return{isShow:!1}},computed:{backgroundColor:function(){return{backgroundColor:"rgba(0, 0, 0, "+this.opacity+")"}}},methods:{show:function(){this.isShow=!0},hide:function(){this.isShow=!1,this.$emit("hide")}}}),_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"popup"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"transition-popup",style:t.backgroundColor,on:{click:function(e){return e.target!==e.currentTarget?null:t.hide(e)}}},[t._t("default")],2)])},staticRenderFns:[]};var g=i("VU/8")(f,_,!1,function(t){i("bzgO")},null,null).exports,y=i("4+Qp"),w=i("diSF"),b=i.n(w),C=i("NXHL"),k=i.n(C),A=i("tX24"),S=i.n(A);function $(t,e,i){if(t&&!e.length)return"";i||(i=" ");var s=b()(t,function(t,i){return e.length&&"[object Array]"===Object.prototype.toString.call(e[0])?k()(e[i],function(e){return e.value===t}):k()(e,function(e){return e.value===t})});return s=s.filter(function(t){return void 0!==t}),b()(s,function(t){return t.name}).join(i).replace("--","")}function L(t,e){return S()(e,function(e){return e.parent===t})}y.a;var P={props:{},data:function(){return{currentTab:0,provinceList:[],cityList:[],areaList:[],cityArr:[],latesdProvince:"",showProvinceList:!0,isChoosedProvince:!1,isChoosedCity:!1,isBeforeScroll:!0}},computed:{cityArrLength:function(){return this.cityArr.length},provinceid2Name:function(){return $(this.cityArr.slice(0,1),l.a)},cityid2Name:function(){return this.cityArrLength>=2?$(this.cityArr.slice(1,2),l.a):""},areaid2Name:function(){return this.cityArrLength>=3?$(this.cityArr.slice(2),l.a):""}},created:function(){this.provinceList=L("0",l.a)},methods:{beforeScroll:function(){if(this.isBeforeScroll){var t=document.querySelector("#北京");t.style.height=t.offsetHeight+1+"px",this.isBeforeScroll=!1}},toggleCityItem:function(t){this.cityArrLength&&(1===t&&this.initStatusPro(),2===t&&this.initStatusCity(),3===t&&this.initStatusArea(),this.currentTab=t)},getCityChildren:function(t){this.latesdProvince!==t&&(this.initStatusCity(),this.cityArr.splice(0),this.latesdProvince=t,this.cityArr.splice(0,1,t),this.cityList=L(t,l.a))},getAreaChildren:function(t){this.cityArr.splice(1,2,t),this.areaList=L(t,l.a),this.initStatusArea()},getAreaItem:function(t){this.cityArr.splice(2,1,t),this.$refs.popup.hide()},showPopup:function(){this.$refs.popup.show()},hidePopup:function(){var t=$(this.cityArr,l.a);this.$emit("choosedCity",this.cityArr,t)},initStatusPro:function(){this.showProvinceList=!0,this.isChoosedProvince=!1,this.isChoosedCity=!1},initStatusCity:function(){this.showProvinceList=!1,this.isChoosedProvince=!0,this.isChoosedCity=!1},initStatusArea:function(){this.showProvinceList=!1,this.isChoosedProvince=!1,this.isChoosedCity=!0}},watch:{cityList:function(t){var e=t[0].value;this.areaList=L(e,l.a)},cityArr:function(t){var e=t.length;1===e&&(this.currentTab=e+1),2===e&&(this.currentTab=e+1)}},components:{BasePopupTransition:g,BaseSeniorScroll:y.a}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("base-popup-transition",{ref:"popup",staticClass:"service-city-container",on:{hide:t.hidePopup}},[i("div",{staticClass:"service-city-wrapper"},[i("div",{staticClass:"service-city-title"},[t._v("请选择地址")]),t._v(" "),i("div",{staticClass:"service-city-header"},[i("div",{staticClass:"province-title",class:{active:1===t.currentTab},on:{click:function(e){t.toggleCityItem(1)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:0===t.cityArrLength,expression:"cityArrLength === 0"}],staticClass:"placeholder"},[t._v("请选择")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.cityArrLength>=1,expression:"cityArrLength >= 1"}],staticClass:"placeholder"},[t._v(t._s(t.provinceid2Name))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cityArrLength>=1,expression:"cityArrLength >= 1"}],staticClass:"city-title",class:{active:2===t.currentTab},on:{click:function(e){t.toggleCityItem(2)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===t.cityArrLength,expression:"cityArrLength === 1"}],staticClass:"placeholder"},[t._v("请选择")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.cityArrLength>=2,expression:"cityArrLength >= 2"}],staticClass:"placeholder"},[t._v(t._s(t.cityid2Name))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cityArrLength>=2,expression:"cityArrLength >= 2"}],staticClass:"area-title",class:{active:3===t.currentTab},on:{click:function(e){t.toggleCityItem(3)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:2===t.cityArrLength,expression:"cityArrLength === 2"}],staticClass:"placeholder"},[t._v("请选择")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:3===t.cityArrLength,expression:"cityArrLength === 3"}],staticClass:"placeholder"},[t._v(t._s(t.areaid2Name))])])]),t._v(" "),i("div",{staticClass:"service-city-body"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showProvinceList,expression:"showProvinceList"}],staticClass:"province-body"},[i("base-senior-scroll",{attrs:{hasMore:!0,data:t.provinceList,beforeScroll:!0},on:{beforeScroll:t.beforeScroll}},t._l(t.provinceList,function(e,s){return i("div",{key:s,staticClass:"province-item",attrs:{id:e.name},on:{click:function(i){t.getCityChildren(e.value)}}},[t._v(t._s(e.name))])}))],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isChoosedProvince,expression:"isChoosedProvince"}],staticClass:"city-body"},[i("base-senior-scroll",{attrs:{hasMore:!0,data:t.cityList}},t._l(t.cityList,function(e){return i("div",{key:e,staticClass:"city-item",on:{click:function(i){t.getAreaChildren(e.value)}}},[t._v(t._s(e.name))])}))],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isChoosedCity,expression:"isChoosedCity"}],staticClass:"area-body"},[i("base-senior-scroll",{attrs:{hasMore:!0,data:t.areaList}},t._l(t.areaList,function(e){return i("div",{key:e,staticClass:"area-item",on:{click:function(i){t.getAreaItem(e.value)}}},[t._v(t._s(e.name))])}))],1)])])])},staticRenderFns:[]};var N=i("VU/8")(P,x,!1,function(t){i("tozc")},null,null).exports,I=(h.a,{name:"ShopApply",data:function(){return{name:"",tel:"",city:[],brandAccreditBook:[],id_front:"",brand_abImage:"",id_back:"",company_img:"",data:{},serviceCitys:"",selectedIndex:0,showSteptwo:!1,showStepone:!0,page:0,isNoActive:!0,inviteCode:"",shopStatus:1,background:"#bcbcbc"}},computed:{isActive:function(){return this.name&&this.tel&&this.city.length},isActiveT:function(){return 1===this.page},isApplied:function(){return o()(this.data).length?1:0}},created:function(){window.album=this.album,Object(r.x)();var t=Object(r.d)();if("Android"===t){var e=window.android.getNativeInfo(),i=JSON.parse(e);this.tel=i.account}else"iOS"===t&&Object(r.l)("getNativeInfo");window.callbackNativeInfo=this.callbackNativeInfo},methods:{headerBack:function(){if(this.page)return this.showSteptwo=!1,this.showStepone=!0,void(this.page=0);this.$refs.confirmPop.show()},cancel:function(){this.$refs.confirmPop.hide()},confirm:function(){Object(r.c)()},showPopup:function(){this.$refs.showPopup.showPopup()},choosedCity:function(t,e){this.city=t,this.serviceCitys=e.replace(/ /g,"-")},album:function(t,e){"1"===e?this.company_img=t:"2"===e?this.brand_abImage=t:"3"===e?this.id_front=t:this.id_back=t},upLoad:function(t,e){var i=this;this.selectedIndex=e;var s=Object(r.d)();if("Android"===s)return window.android.selectPic(t),!1;"iOS"===s&&Object(r.g)("selectPic",t).then(function(t){var e=a()(t,2),s=e[0],n=e[1];"1"===s?i.company_img=n:"2"===s?i.brand_abImage=n:"3"===s?i.id_front=n:i.id_back=n})},removePic:function(t,e){1!==t?2!==t?3!==t?4===t&&(this.id_back=""):this.id_front="":this.brand_abImage="":this.company_img=""},valiCode:function(){var t=this,e={code:this.inviteCode};this.$http("apply/testCode",e).then(function(e){if(e.code===t.$ok){if(!t.isActive)return;var i=/^[0-9-A-z\u4e00-\u9fa5]{2,10}$/.test(t.name),s=/^1[3,4,5,6,7,8,9]\d{9}$/.test(t.tel),a=t.city.length;if(!t.name.trim())return t.$t("名称不能为空"),!1;if(!i)return t.$t("联系人为2-10个字"),!1;if(!t.tel)return t.$t("手机号不能为空"),!1;if(!s)return t.$t("手机号码错误"),!1;if(a<=1)return t.$t("请选择服务城市"),!1;t.showSteptwo=!0,t.showStepone=!1,t.page=1}else{if(600===e.code)return t.$t("您输入的邀请码错误"),!1;if(400===e.code)return t.$t("您输入的邀请码错误"),!1}})},submit:function(){if(0===this.page)if(this.inviteCode){if(!this.isActive)return!1;this.valiCode()}else{if(!this.isActive)return;var t=/^[0-9-A-z\u4e00-\u9fa5]{2,10}$/.test(this.name),e=/^1[3,4,5,6,7,8,9]\d{9}$/.test(this.tel),i=this.city.length;if(!this.name.trim())return this.$t("名称不能为空"),!1;if(!t)return this.$t("联系人为2-10个字"),!1;if(!this.tel)return this.$t("手机号不能为空"),!1;if(!e)return this.$t("手机号码错误"),!1;if(i<=1)return this.$t("请选择服务城市"),!1;this.showSteptwo=!0,this.showStepone=!1,this.page=1}else this.page},submitBtn:function(t){return this.id_front&&this.id_back?this.company_img?this.brand_abImage?void(1===t?(this.shopStatus=1,this.sendData(t)):(this.shopStatus=2,this.sendData(t))):(this.$t("品牌授权书不能为空"),!1):(this.$t("营业执照不能为空"),!1):(this.$t("身份证信息不完整"),!1)},sendData:function(t){var e=this,i={mobile:this.tel,contact:this.name,opAddress:this.city.join(),license:this.company_img,idImage:this.id_front,idImage1:this.id_back,grant:this.brand_abImage,edit:this.isApplied,sellerCode:this.inviteCode,shopStatus:this.shopStatus};this.$http("apply/applySeller",i).then(function(i){console.log(i),i.code===e.$ok&&(e.$t("提交成功"),1===t?e.$router.push({path:"/shop-auditing"}):2===t&&e.$router.push({path:"/topspeed-set-shop",query:{tel:e.tel}})),e.$vux.toast.text(i.message,"middle")})},viewApply:function(){var t=this;Object(v.a)("apply/viewApplySeller").then(function(e){e.code===p.a&&(t.data=e.data,t.name=e.data.contact||"",t.tel=e.data.mobile||"",t.id_front=e.data.id_card||"",t.id_back=e.data.id_card1||"",t.company_img=e.data.license||"",t.brand_abImage=e.data.grant||"",void 0===e.data.op_province||void 0===e.data.op_city||void 0===e.data.op_area?t.city=[]:t.city=[String(e.data.op_province),String(e.data.op_city),String(e.data.op_area)],t.serviceCitys=$(t.city,l.a).replace(/ /g,"-"))})},lookStatement:function(t){1===t?this.$router.push({path:"/shop-apply/apply-detail"}):this.$router.push({path:"/shop-apply/topspeed-detail"})},goHome:function(){var t=Object(r.d)();if("Android"===t)return window.android.finish(),!1;"iOS"===t&&window.webkit.messageHandlers.nativeClose.postMessage("")},justifyBodyHeight:function(){var t=this.$refs.button.$el.clientHeight;document.body.style.height=window.screen.availHeight-t+"px"},restoreBodyHeight:function(){document.body.style.height="100%"},callbackNativeInfo:function(t){var e=JSON.parse(t);this.tel=e.account}},beforeRouteLeave:function(t,e,i){"ShopAuditing"===t.name&&this.$del(t,e,i,this,!0),i()},components:{BaseServiceCity:N,Scroll:h.a,Popup:m}}),B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"apply-container apply-container-wrapper"},[i("base-header",{attrs:{"intercept-back":!0},on:{headerBack:t.headerBack}}),t._v(" "),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"apply-up"},[i("div",{staticClass:"step-bar"},[i("span"),t._v(" "),i("span",{class:{activeT:t.isActiveT,noActive:t.isNoActive}}),t._v(" "),t._m(0),t._v(" "),i("span",{class:{complete:t.isActiveT}},[i("b",{class:{completeT:t.isActiveT}},[t._v("Step2  ")]),t._v("证件信息")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0===this.page,expression:"this.page === 0 ? true:false"}],staticClass:"invite-code"},[i("p",[t._v("邀请码")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inviteCode,expression:"inviteCode"}],attrs:{type:"tel",placeholder:"2-8位数字邀请码（选填）",maxlength:"8"},domProps:{value:t.inviteCode},on:{focus:t.justifyBodyHeight,blur:t.restoreBodyHeight,input:function(e){e.target.composing||(t.inviteCode=e.target.value)}}}),t._v(" "),i("p",[t._v("若输入推荐人的邀请码，他将为您提供专业服务")])])]),t._v(" "),i("div",{staticClass:"special-content-all"},[i("div",{staticClass:"step-content"},[t.showStepone?i("div",{staticClass:"step-all"},[i("div",{staticClass:"step-one"},[t._m(1),t._v(" "),i("div",{staticClass:"form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"请输入姓名",maxlength:"10"},domProps:{value:t.name},on:{focus:t.justifyBodyHeight,blur:t.restoreBodyHeight,input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"step-one"},[t._m(2),t._v(" "),i("div",{staticClass:"form"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tel,expression:"tel",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"用于客服人员与您联系",maxlength:"11"},domProps:{value:t.tel},on:{focus:t.justifyBodyHeight,blur:[t.restoreBodyHeight,function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.tel=e.target.value.trim())}}})])]),t._v(" "),i("div",{staticClass:"step-one",on:{click:t.showPopup}},[t._m(3),t._v(" "),i("div",{staticClass:"form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceCitys,expression:"serviceCitys"}],attrs:{type:"text",placeholder:"商品仅在该城市展示，提交后不可修改",readonly:""},domProps:{value:t.serviceCitys},on:{input:function(e){e.target.composing||(t.serviceCitys=e.target.value)}}}),t._v(" "),i("img",{staticClass:"arrow",attrs:{src:"images/arrow.png",alt:""}})])])]):t._e(),t._v(" "),t.showSteptwo?i("div",{staticClass:"step-all-two"},[t._m(4),t._v(" "),i("div",{staticClass:"apply-pic"},[i("div",{staticClass:"photo",class:{no:t.id_front,"id-front":!t.id_front},on:{click:function(e){t.upLoad(3)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.id_front,expression:"id_front"}],attrs:{src:t.id_front,alt:""}}),t._v(" "),t.id_front?i("i",{on:{click:function(e){e.stopPropagation(),t.removePic(3)}}}):t._e()]),t._v(" "),i("div",{staticClass:"photo",class:{no:t.id_back,"id-back":!t.id_back},on:{click:function(e){t.upLoad(4)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.id_back,expression:"id_back"}],attrs:{src:t.id_back,alt:""}}),t._v(" "),t.id_back?i("i",{on:{click:function(e){e.stopPropagation(),t.removePic(4)}}}):t._e()])]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),i("div",{staticClass:"apply-pic"},[i("div",{staticClass:"photo photo-licence",class:{no:t.company_img},on:{click:function(e){t.upLoad(1)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.company_img,expression:"company_img"}],attrs:{src:t.company_img,alt:""}}),t._v(" "),t.company_img?i("i",{on:{click:function(e){e.stopPropagation(),t.removePic(1)}}}):t._e()]),t._v(" "),i("div",{staticClass:"photo photo-brand",class:{no:t.brand_abImage},on:{click:function(e){t.upLoad(2)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.brand_abImage,expression:"brand_abImage"}],attrs:{src:t.brand_abImage,alt:""}}),t._v(" "),t.brand_abImage?i("i",{on:{click:function(e){e.stopPropagation(),t.removePic(2)}}}):t._e()])])]):t._e()])])]),t._v(" "),i("base-footer",{directives:[{name:"show",rawName:"v-show",value:0===this.page,expression:"this.page === 0"}],ref:"button",staticClass:"button",class:{active:t.isActive},attrs:{background:"this.background"},on:{footerSubmit:t.submit}},[i("span",[t._v("点击下一步，就快完成啦~")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===this.page,expression:"this.page === 1"}],staticClass:"buttonTwo"},[i("div",{staticClass:"keep-saveBtn"},[i("span"),i("span",{on:{click:function(e){t.submitBtn(1)}}},[t._v("审核开店")]),i("span",{on:{click:function(e){t.lookStatement(1)}}})]),t._v(" "),i("div",{staticClass:"keep-saveBtnT"},[i("span"),i("span",{on:{click:function(e){t.submitBtn(2)}}},[t._v("极速开店")]),i("span",{on:{click:function(e){t.lookStatement(2)}}})])]),t._v(" "),i("base-senior-popup",{ref:"confirmPop",staticClass:"confirmPop",attrs:{height:"auto"}},[i("div",{staticClass:"popdes"},[i("p",[t._v("提示")]),t._v(" "),i("p",[t._v("你确定放弃申请吗？")])]),t._v(" "),i("div",{staticClass:"popbtn"},[i("a",{attrs:{href:"javascript:"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),i("a",{attrs:{href:"javascript:"},on:{click:t.confirm}},[t._v("确定")])])]),t._v(" "),i("popup",{ref:"popup",on:{click:t.goHome}}),t._v(" "),i("base-service-city",{ref:"showPopup",on:{choosedCity:t.choosedCity}}),t._v(" "),i("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("Step1  ")]),this._v("基本信息")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("*")]),this._v(" 联系人")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("*")]),this._v(" 手机号码")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("*")]),this._v(" 服务城市")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step-two-des"},[e("p",[e("span",[this._v("* ")]),this._v("身份证")]),this._v(" "),e("p",[this._v("（大小不超过2M）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step-two-des-down clearfix"},[e("div",{staticClass:"step-two-des"},[e("p",[e("span",[this._v("* ")]),this._v("营业执照")]),this._v(" "),e("p",[this._v("（大小不超过5M）")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step-two-des-down clearfix"},[e("div",{staticClass:"step-two-des"},[e("p",[e("span",[this._v("* ")]),this._v("品牌授权书")]),this._v(" "),e("p",[this._v("（大小不超过5M）")])])])}]};var j=i("VU/8")(I,B,!1,function(t){i("1blr")},null,null);e.default=j.exports},bzgO:function(t,e){},tozc:function(t,e){}});